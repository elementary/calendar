/* EventButton.c generated by valac 0.34.9, the Vala compiler
 * generated from EventButton.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/*-
 * Copyright (c) 2011-2015 Maya Developers (http://launchpad.net/maya)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Authored by: Maxwell Barvian
 *              Corentin NoÃ«l <corentin@elementaryos.org>
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <libecal/libecal.h>
#include <maya-calendar.h>
#include <libedataserver/libedataserver.h>
#include <gdk/gdk.h>
#include <libical/ical.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include <pango/pango.h>


#define MAYA_VIEW_TYPE_EVENT_BUTTON (maya_view_event_button_get_type ())
#define MAYA_VIEW_EVENT_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButton))
#define MAYA_VIEW_EVENT_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButtonClass))
#define MAYA_VIEW_IS_EVENT_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_TYPE_EVENT_BUTTON))
#define MAYA_VIEW_IS_EVENT_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_TYPE_EVENT_BUTTON))
#define MAYA_VIEW_EVENT_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButtonClass))

typedef struct _MayaViewEventButton MayaViewEventButton;
typedef struct _MayaViewEventButtonClass MayaViewEventButtonClass;
typedef struct _MayaViewEventButtonPrivate MayaViewEventButtonPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _Block23Data Block23Data;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

struct _MayaViewEventButton {
	GtkRevealer parent_instance;
	MayaViewEventButtonPrivate * priv;
};

struct _MayaViewEventButtonClass {
	GtkRevealerClass parent_class;
};

struct _MayaViewEventButtonPrivate {
	ECalComponent* _comp;
	GtkEventBox* event_box;
	GtkGrid* internal_grid;
	GtkLabel* label;
};

struct _Block23Data {
	int _ref_count_;
	MayaViewEventButton* self;
	ESourceCalendar* cal;
	ECalComponent* comp;
};


static gpointer maya_view_event_button_parent_class = NULL;
extern GCompareDataFunc maya_view_event_button_compare_buttons;
extern gpointer maya_view_event_button_compare_buttons_target;
extern GDestroyNotify maya_view_event_button_compare_buttons_target_destroy_notify;
GCompareDataFunc maya_view_event_button_compare_buttons = NULL;
gpointer maya_view_event_button_compare_buttons_target = NULL;
GDestroyNotify maya_view_event_button_compare_buttons_target_destroy_notify = NULL;

GType maya_view_event_button_get_type (void) G_GNUC_CONST;
#define MAYA_VIEW_EVENT_BUTTON_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButtonPrivate))
enum  {
	MAYA_VIEW_EVENT_BUTTON_DUMMY_PROPERTY,
	MAYA_VIEW_EVENT_BUTTON_COMP
};
static gint _maya_view_event_button_compare_buttons_lambda53_ (MayaViewEventButton* button1, MayaViewEventButton* button2);
ECalComponent* maya_view_event_button_get_comp (MayaViewEventButton* self);
static gint __maya_view_event_button_compare_buttons_lambda53__gcompare_data_func (gconstpointer a, gconstpointer b, gpointer self);
MayaViewEventButton* maya_view_event_button_new (ECalComponent* comp);
MayaViewEventButton* maya_view_event_button_construct (GType object_type, ECalComponent* comp);
static Block23Data* block23_data_ref (Block23Data* _data23_);
static void block23_data_unref (void * _userdata_);
static void maya_view_event_button_set_comp (MayaViewEventButton* self, ECalComponent* value);
static gboolean __lambda54_ (MayaViewEventButton* self, GdkEventScroll* event);
static gboolean ___lambda54__gtk_widget_scroll_event (GtkWidget* _sender, GdkEventScroll* event, gpointer self);
static gboolean __lambda55_ (Block23Data* _data23_, GdkEventButton* event);
static gboolean ___lambda55__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static void __lambda56_ (Block23Data* _data23_, GdkDragContext* ctx, GtkSelectionData* sel, guint info, guint time);
static void ___lambda56__gtk_widget_drag_data_get (GtkWidget* _sender, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_, gpointer self);
gchar* maya_view_event_button_get_summary (MayaViewEventButton* self);
static void __lambda57_ (Block23Data* _data23_);
void maya_view_event_button_set_color (MayaViewEventButton* self, const gchar* color);
static void ___lambda57__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static void maya_view_event_button_finalize (GObject* obj);
static void _vala_maya_view_event_button_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_maya_view_event_button_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


static gpointer _g_object_ref0 (gpointer self) {
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return self ? g_object_ref (self) : NULL;
#line 121 "EventButton.c"
}


static gint _maya_view_event_button_compare_buttons_lambda53_ (MayaViewEventButton* button1, MayaViewEventButton* button2) {
	gint result = 0;
	ECalComponent* comp1 = NULL;
	MayaViewEventButton* _tmp0_ = NULL;
	ECalComponent* _tmp1_ = NULL;
	ECalComponent* _tmp2_ = NULL;
	ECalComponent* comp2 = NULL;
	MayaViewEventButton* _tmp3_ = NULL;
	ECalComponent* _tmp4_ = NULL;
	ECalComponent* _tmp5_ = NULL;
	ECalComponent* _tmp6_ = NULL;
	ECalComponent* _tmp7_ = NULL;
	gint _tmp8_ = 0;
#line 111 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_val_if_fail (button1 != NULL, 0);
#line 111 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_val_if_fail (button2 != NULL, 0);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = button1;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = _tmp0_->priv->_comp;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	comp1 = _tmp2_;
#line 113 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp3_ = button2;
#line 113 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp4_ = _tmp3_->priv->_comp;
#line 113 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp5_ = _g_object_ref0 (_tmp4_);
#line 113 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	comp2 = _tmp5_;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp6_ = comp1;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp7_ = comp2;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp8_ = maya_util_compare_events (_tmp6_, _tmp7_);
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	result = _tmp8_;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (comp2);
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (comp1);
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 172 "EventButton.c"
}


static gint __maya_view_event_button_compare_buttons_lambda53__gcompare_data_func (gconstpointer a, gconstpointer b, gpointer self) {
	gint result;
	result = _maya_view_event_button_compare_buttons_lambda53_ ((MayaViewEventButton*) a, (MayaViewEventButton*) b);
#line 111 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 181 "EventButton.c"
}


static Block23Data* block23_data_ref (Block23Data* _data23_) {
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_atomic_int_inc (&_data23_->_ref_count_);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return _data23_;
#line 190 "EventButton.c"
}


static void block23_data_unref (void * _userdata_) {
	Block23Data* _data23_;
	_data23_ = (Block23Data*) _userdata_;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	if (g_atomic_int_dec_and_test (&_data23_->_ref_count_)) {
#line 199 "EventButton.c"
		MayaViewEventButton* self;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		self = _data23_->self;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_object_unref0 (_data23_->cal);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_object_unref0 (_data23_->comp);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_object_unref0 (self);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		g_slice_free (Block23Data, _data23_);
#line 211 "EventButton.c"
	}
}


static gboolean __lambda54_ (MayaViewEventButton* self, GdkEventScroll* event) {
	gboolean result = FALSE;
	GdkEventScroll* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = event;
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = maya_gestures_utils_on_scroll_event (_tmp0_);
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	result = _tmp1_;
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 230 "EventButton.c"
}


static gboolean ___lambda54__gtk_widget_scroll_event (GtkWidget* _sender, GdkEventScroll* event, gpointer self) {
	gboolean result;
	result = __lambda54_ ((MayaViewEventButton*) self, event);
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 239 "EventButton.c"
}


static gboolean __lambda55_ (Block23Data* _data23_, GdkEventButton* event) {
	MayaViewEventButton* self;
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GdkEventButton* _tmp1_ = NULL;
	GdkEventType _tmp2_ = 0;
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self = _data23_->self;
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = event;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp2_ = _tmp1_->type;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	if (_tmp2_ == GDK_2BUTTON_PRESS) {
#line 259 "EventButton.c"
		GdkEventButton* _tmp3_ = NULL;
		guint _tmp4_ = 0U;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp3_ = event;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp4_ = _tmp3_->button;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp0_ = _tmp4_ == ((guint) GDK_BUTTON_PRIMARY);
#line 268 "EventButton.c"
	} else {
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp0_ = FALSE;
#line 272 "EventButton.c"
	}
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	if (_tmp0_) {
#line 276 "EventButton.c"
		ESource* src = NULL;
		ECalComponent* _tmp5_ = NULL;
		gconstpointer _tmp6_ = NULL;
		ESource* _tmp7_ = NULL;
		gboolean _tmp8_ = FALSE;
		ESource* _tmp9_ = NULL;
		gboolean _tmp10_ = FALSE;
		gboolean _tmp11_ = FALSE;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp5_ = _data23_->comp;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp6_ = g_object_get_data ((GObject*) _tmp5_, "source");
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp7_ = _g_object_ref0 ((ESource*) _tmp6_);
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		src = _tmp7_;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp9_ = src;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp10_ = e_source_get_writable (_tmp9_);
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp11_ = _tmp10_;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		if (_tmp11_ == TRUE) {
#line 301 "EventButton.c"
			MayaModelCalendarModel* _tmp12_ = NULL;
			MayaModelCalendarModel* _tmp13_ = NULL;
			ESource* _tmp14_ = NULL;
			gboolean _tmp15_ = FALSE;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp12_ = maya_model_calendar_model_get_default ();
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp13_ = _tmp12_;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp14_ = src;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp15_ = maya_model_calendar_model_calclient_is_readonly (_tmp13_, _tmp14_);
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp8_ = _tmp15_ == FALSE;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_g_object_unref0 (_tmp13_);
#line 318 "EventButton.c"
		} else {
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp8_ = FALSE;
#line 322 "EventButton.c"
		}
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		if (_tmp8_) {
#line 54 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			g_signal_emit_by_name (self, "edition-request");
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			result = TRUE;
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_g_object_unref0 (src);
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			return result;
#line 334 "EventButton.c"
		}
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_object_unref0 (src);
#line 338 "EventButton.c"
	}
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	result = FALSE;
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 344 "EventButton.c"
}


static gboolean ___lambda55__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda55_ (self, event);
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 353 "EventButton.c"
}


static guint8* string_get_data (const gchar* self, int* result_length1) {
	guint8* result;
	guint8* res = NULL;
	gint res_length1 = 0;
	gint _res_size_ = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	guint8* _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	guint8* _tmp4_ = NULL;
	gint _tmp4__length1 = 0;
#line 1406 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1407 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	res = (guint8*) self;
#line 1407 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	res_length1 = -1;
#line 1407 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_res_size_ = res_length1;
#line 1408 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1408 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1408 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	res_length1 = (gint) _tmp1_;
#line 1408 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp2_ = res_length1;
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp3_ = res;
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp3__length1 = res_length1;
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp4__length1 = _tmp3__length1;
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	if (result_length1) {
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
		*result_length1 = _tmp4__length1;
#line 397 "EventButton.c"
	}
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	result = _tmp4_;
#line 1409 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	return result;
#line 403 "EventButton.c"
}


static void __lambda56_ (Block23Data* _data23_, GdkDragContext* ctx, GtkSelectionData* sel, guint info, guint time) {
	MayaViewEventButton* self;
	MayaModelCalendarModel* _tmp0_ = NULL;
	MayaModelCalendarModel* _tmp1_ = NULL;
	ECalComponent* _tmp2_ = NULL;
	icalcomponent* icalcomp = NULL;
	ECalComponent* _tmp3_ = NULL;
	icalcomponent* _tmp4_ = NULL;
	const gchar* ical_str = NULL;
	const gchar* _tmp5_ = NULL;
	GtkSelectionData* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	GError * _inner_error_ = NULL;
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self = _data23_->self;
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_if_fail (ctx != NULL);
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_if_fail (sel != NULL);
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = maya_model_calendar_model_get_default ();
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = _tmp0_;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp2_ = _data23_->comp;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	maya_model_calendar_model_set_drag_component (_tmp1_, _tmp2_);
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (_tmp1_);
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp3_ = _data23_->comp;
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp4_ = e_cal_component_get_icalcomponent (_tmp3_);
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	icalcomp = _tmp4_;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp5_ = icalcomponent_as_ical_string (icalcomp);
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	ical_str = _tmp5_;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp6_ = sel;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp7_ = strlen (ical_str);
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp8_ = _tmp7_;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_selection_data_set_text (_tmp6_, ical_str, _tmp8_);
#line 455 "EventButton.c"
	{
		gchar* path = NULL;
		const gchar* _tmp9_ = NULL;
		const gchar* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
		gchar* _tmp12_ = NULL;
		gchar* _tmp13_ = NULL;
		gchar* _tmp14_ = NULL;
		GFile* file = NULL;
		GFile* _tmp15_ = NULL;
		gboolean _tmp16_ = FALSE;
		guint8* _tmp17_ = NULL;
		gint _tmp17__length1 = 0;
		guint8* _tmp18_ = NULL;
		gint _tmp18__length1 = 0;
		gboolean _tmp19_ = FALSE;
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp9_ = g_get_tmp_dir ();
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp10_ = icalcomponent_get_summary (icalcomp);
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp11_ = g_strconcat (_tmp10_, ".ics", NULL);
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp12_ = _tmp11_;
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp13_ = g_build_filename (_tmp9_, _tmp12_, NULL);
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp14_ = _tmp13_;
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_free0 (_tmp12_);
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		path = _tmp14_;
#line 72 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp15_ = g_file_new_for_path (path);
#line 72 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		file = _tmp15_;
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp17_ = string_get_data (ical_str, &_tmp17__length1);
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp18_ = _tmp17_;
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp18__length1 = _tmp17__length1;
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp19_ = g_file_replace_contents (file, _tmp18_, (gsize) _tmp18__length1, NULL, FALSE, G_FILE_CREATE_PRIVATE, NULL, NULL, &_inner_error_);
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp16_ = _tmp19_;
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_g_object_unref0 (file);
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_g_free0 (path);
#line 508 "EventButton.c"
			goto __catch14_g_error;
		}
#line 73 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		if (_tmp16_) {
#line 513 "EventButton.c"
			GtkSelectionData* _tmp20_ = NULL;
			gchar* _tmp21_ = NULL;
			gchar** _tmp22_ = NULL;
			gchar** _tmp23_ = NULL;
			gint _tmp23__length1 = 0;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp20_ = sel;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp21_ = g_file_get_uri (file);
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp22_ = g_new0 (gchar*, 1 + 1);
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp22_[0] = _tmp21_;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp23_ = _tmp22_;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp23__length1 = 1;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			gtk_selection_data_set_uris (_tmp20_, _tmp23_);
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
			_tmp23_ = (_vala_array_free (_tmp23_, _tmp23__length1, (GDestroyNotify) g_free), NULL);
#line 535 "EventButton.c"
		}
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_object_unref0 (file);
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_free0 (path);
#line 541 "EventButton.c"
	}
	goto __finally14;
	__catch14_g_error:
	{
		GError* e = NULL;
		GError* _tmp24_ = NULL;
		const gchar* _tmp25_ = NULL;
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		e = _inner_error_;
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_inner_error_ = NULL;
#line 76 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp24_ = e;
#line 76 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_tmp25_ = _tmp24_->message;
#line 76 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		g_critical ("EventButton.vala:76: %s", _tmp25_);
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		_g_error_free0 (e);
#line 561 "EventButton.c"
	}
	__finally14:
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		g_clear_error (&_inner_error_);
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		return;
#line 572 "EventButton.c"
	}
}


static void ___lambda56__gtk_widget_drag_data_get (GtkWidget* _sender, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_, gpointer self) {
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	__lambda56_ (self, context, selection_data, info, time_);
#line 580 "EventButton.c"
}


static void __lambda57_ (Block23Data* _data23_) {
	MayaViewEventButton* self;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 91 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self = _data23_->self;
#line 92 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = e_source_selectable_dup_color ((ESourceSelectable*) _data23_->cal);
#line 92 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = _tmp0_;
#line 92 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	maya_view_event_button_set_color (self, _tmp1_);
#line 92 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_free0 (_tmp1_);
#line 598 "EventButton.c"
}


static void ___lambda57__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
#line 91 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	__lambda57_ (self);
#line 605 "EventButton.c"
}


MayaViewEventButton* maya_view_event_button_construct (GType object_type, ECalComponent* comp) {
	MayaViewEventButton * self = NULL;
	Block23Data* _data23_;
	ECalComponent* _tmp0_ = NULL;
	ECalComponent* _tmp1_ = NULL;
	ECalComponent* _tmp2_ = NULL;
	GtkGrid* _tmp3_ = NULL;
	GtkGrid* _tmp4_ = NULL;
	GtkEventBox* _tmp5_ = NULL;
	GtkLabel* fake_label = NULL;
	GtkLabel* _tmp6_ = NULL;
	GtkEventBox* _tmp7_ = NULL;
	GtkEventBox* _tmp8_ = NULL;
	GtkEventBox* _tmp9_ = NULL;
	GtkGrid* _tmp10_ = NULL;
	GtkEventBox* _tmp11_ = NULL;
	GtkEventBox* _tmp12_ = NULL;
	GtkEventBox* event_box = NULL;
	GtkEventBox* _tmp13_ = NULL;
	GdkEventMask _tmp14_ = 0;
	GdkEventMask _tmp15_ = 0;
	GdkEventMask _tmp16_ = 0;
	GdkEventMask _tmp17_ = 0;
	GdkEventMask _tmp18_ = 0;
	GdkEventMask _tmp19_ = 0;
	GtkGrid* _tmp20_ = NULL;
	GtkTargetEntry dnd = {0};
	GtkTargetEntry _tmp21_ = {0};
	GtkTargetEntry dnd2 = {0};
	GtkTargetEntry _tmp22_ = {0};
	GtkTargetEntry _tmp23_ = {0};
	GtkTargetEntry _tmp24_ = {0};
	GtkTargetEntry* _tmp25_ = NULL;
	GtkTargetEntry* _tmp26_ = NULL;
	gint _tmp26__length1 = 0;
	gchar* _tmp27_ = NULL;
	gchar* _tmp28_ = NULL;
	GtkLabel* _tmp29_ = NULL;
	GtkLabel* _tmp30_ = NULL;
	GtkGrid* _tmp31_ = NULL;
	GtkLabel* _tmp32_ = NULL;
	GtkLabel* _tmp33_ = NULL;
	GtkLabel* _tmp34_ = NULL;
	GtkLabel* _tmp35_ = NULL;
	GtkLabel* _tmp36_ = NULL;
	ESource* source = NULL;
	ECalComponent* _tmp37_ = NULL;
	gconstpointer _tmp38_ = NULL;
	ESource* _tmp39_ = NULL;
	ESourceExtension* _tmp40_ = NULL;
	ESourceCalendar* _tmp41_ = NULL;
	gchar* _tmp42_ = NULL;
	gchar* _tmp43_ = NULL;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_val_if_fail (comp != NULL, NULL);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_data23_ = g_slice_new0 (Block23Data);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_data23_->_ref_count_ = 1;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = comp;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (_data23_->comp);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_data23_->comp = _tmp1_;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self = (MayaViewEventButton*) g_object_new (object_type, NULL);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_data23_->self = g_object_ref (self);
#line 33 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp2_ = _data23_->comp;
#line 33 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	maya_view_event_button_set_comp (self, _tmp2_);
#line 34 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_revealer_set_transition_type ((GtkRevealer*) self, GTK_REVEALER_TRANSITION_TYPE_CROSSFADE);
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp3_ = (GtkGrid*) gtk_grid_new ();
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_ref_sink (_tmp3_);
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->internal_grid);
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self->priv->internal_grid = _tmp3_;
#line 36 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp4_ = self->priv->internal_grid;
#line 36 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_grid_set_column_spacing (_tmp4_, 6);
#line 37 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp5_ = (GtkEventBox*) gtk_event_box_new ();
#line 37 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_ref_sink (_tmp5_);
#line 37 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->event_box);
#line 37 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self->priv->event_box = _tmp5_;
#line 38 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp6_ = (GtkLabel*) gtk_label_new (" ");
#line 38 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_ref_sink (_tmp6_);
#line 38 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	fake_label = _tmp6_;
#line 39 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp7_ = self->priv->event_box;
#line 39 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_container_add ((GtkContainer*) _tmp7_, (GtkWidget*) fake_label);
#line 40 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp8_ = self->priv->event_box;
#line 40 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_set_size_request ((GtkWidget*) _tmp8_, 4, 2);
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp9_ = self->priv->event_box;
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_signal_connect_object ((GtkWidget*) _tmp9_, "scroll-event", (GCallback) ___lambda54__gtk_widget_scroll_event, self, 0);
#line 43 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp10_ = self->priv->internal_grid;
#line 43 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp11_ = self->priv->event_box;
#line 43 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_grid_attach (_tmp10_, (GtkWidget*) _tmp11_, 0, 0, 1, 1);
#line 44 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp12_ = self->priv->event_box;
#line 44 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_show ((GtkWidget*) _tmp12_);
#line 45 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp13_ = (GtkEventBox*) gtk_event_box_new ();
#line 45 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_ref_sink (_tmp13_);
#line 45 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	event_box = _tmp13_;
#line 46 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp14_ = gtk_widget_get_events ((GtkWidget*) event_box);
#line 46 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp15_ = _tmp14_;
#line 46 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_set_events ((GtkWidget*) event_box, _tmp15_ | GDK_BUTTON_PRESS_MASK);
#line 47 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp16_ = gtk_widget_get_events ((GtkWidget*) event_box);
#line 47 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp17_ = _tmp16_;
#line 47 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_set_events ((GtkWidget*) event_box, _tmp17_ | GDK_SCROLL_MASK);
#line 48 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp18_ = gtk_widget_get_events ((GtkWidget*) event_box);
#line 48 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp19_ = _tmp18_;
#line 48 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_set_events ((GtkWidget*) event_box, _tmp19_ | GDK_SMOOTH_SCROLL_MASK);
#line 49 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp20_ = self->priv->internal_grid;
#line 49 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_container_add ((GtkContainer*) event_box, (GtkWidget*) _tmp20_);
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_signal_connect_data ((GtkWidget*) event_box, "button-press-event", (GCallback) ___lambda55__gtk_widget_button_press_event, block23_data_ref (_data23_), (GClosureNotify) block23_data_unref, 0);
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp21_.target = "binary/calendar";
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp21_.flags = (guint) 0;
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp21_.info = (guint) 0;
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	dnd = _tmp21_;
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp22_.target = "text/uri-list";
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp22_.flags = (guint) 0;
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp22_.info = (guint) 0;
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	dnd2 = _tmp22_;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp23_ = dnd;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp24_ = dnd2;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp25_ = g_new0 (GtkTargetEntry, 2);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp25_[0] = _tmp23_;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp25_[1] = _tmp24_;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp26_ = _tmp25_;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp26__length1 = 2;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_drag_source_set ((GtkWidget*) event_box, GDK_BUTTON1_MASK, _tmp26_, 2, GDK_ACTION_MOVE);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp26_ = (g_free (_tmp26_), NULL);
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_signal_connect_data ((GtkWidget*) event_box, "drag-data-get", (GCallback) ___lambda56__gtk_widget_drag_data_get, block23_data_ref (_data23_), (GClosureNotify) block23_data_unref, 0);
#line 80 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) event_box);
#line 81 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp27_ = maya_view_event_button_get_summary (self);
#line 81 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp28_ = _tmp27_;
#line 81 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp29_ = (GtkLabel*) gtk_label_new (_tmp28_);
#line 81 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_ref_sink (_tmp29_);
#line 81 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->label);
#line 81 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self->priv->label = _tmp29_;
#line 81 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_free0 (_tmp28_);
#line 82 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp30_ = self->priv->label;
#line 82 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_label_set_ellipsize (_tmp30_, PANGO_ELLIPSIZE_END);
#line 83 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp31_ = self->priv->internal_grid;
#line 83 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp32_ = self->priv->label;
#line 83 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_grid_attach (_tmp31_, (GtkWidget*) _tmp32_, 1, 0, 1, 1);
#line 84 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp33_ = self->priv->label;
#line 84 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_set_hexpand ((GtkWidget*) _tmp33_, TRUE);
#line 85 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp34_ = self->priv->label;
#line 85 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_set (_tmp34_, "wrap", FALSE, NULL);
#line 86 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp35_ = self->priv->label;
#line 86 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp35_, gtk_misc_get_type (), GtkMisc), "xalign", 0.0f, NULL);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp36_ = self->priv->label;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_show ((GtkWidget*) _tmp36_);
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp37_ = _data23_->comp;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp38_ = g_object_get_data ((GObject*) _tmp37_, "source");
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp39_ = _g_object_ref0 ((ESource*) _tmp38_);
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	source = _tmp39_;
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp40_ = e_source_get_extension (source, E_SOURCE_EXTENSION_CALENDAR);
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp41_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp40_, e_source_calendar_get_type (), ESourceCalendar));
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_data23_->cal = _tmp41_;
#line 91 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_signal_connect_data ((GObject*) _data23_->cal, "notify::color", (GCallback) ___lambda57__g_object_notify, block23_data_ref (_data23_), (GClosureNotify) block23_data_unref, 0);
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp42_ = e_source_selectable_dup_color ((ESourceSelectable*) _data23_->cal);
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp43_ = _tmp42_;
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	maya_view_event_button_set_color (self, _tmp43_);
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_free0 (_tmp43_);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (source);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (event_box);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (fake_label);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	block23_data_unref (_data23_);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_data23_ = NULL;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return self;
#line 878 "EventButton.c"
}


MayaViewEventButton* maya_view_event_button_new (ECalComponent* comp) {
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return maya_view_event_button_construct (MAYA_VIEW_TYPE_EVENT_BUTTON, comp);
#line 885 "EventButton.c"
}


gchar* maya_view_event_button_get_summary (MayaViewEventButton* self) {
	gchar* result = NULL;
	ECalComponent* _tmp0_ = NULL;
	ECalComponentText _tmp1_ = {0};
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
#line 98 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = self->priv->_comp;
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	e_cal_component_get_summary (_tmp0_, &_tmp1_);
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp2_ = _tmp1_.value;
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	result = _tmp3_;
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 909 "EventButton.c"
}


void maya_view_event_button_set_color (MayaViewEventButton* self, const gchar* color) {
	GdkRGBA rgba = {0};
	const gchar* _tmp0_ = NULL;
	GtkEventBox* _tmp1_ = NULL;
	GdkRGBA _tmp2_ = {0};
#line 102 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_if_fail (self != NULL);
#line 102 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_if_fail (color != NULL);
#line 103 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	memset (&rgba, 0, sizeof (GdkRGBA));
#line 104 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = color;
#line 104 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gdk_rgba_parse (&rgba, _tmp0_);
#line 105 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = self->priv->event_box;
#line 105 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp2_ = rgba;
#line 105 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	gtk_widget_override_background_color ((GtkWidget*) _tmp1_, GTK_STATE_FLAG_NORMAL, &_tmp2_);
#line 934 "EventButton.c"
}


ECalComponent* maya_view_event_button_get_comp (MayaViewEventButton* self) {
	ECalComponent* result;
	ECalComponent* _tmp0_ = NULL;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = self->priv->_comp;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	result = _tmp0_;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	return result;
#line 949 "EventButton.c"
}


static void maya_view_event_button_set_comp (MayaViewEventButton* self, ECalComponent* value) {
	ECalComponent* _tmp0_ = NULL;
	ECalComponent* _tmp1_ = NULL;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_return_if_fail (self != NULL);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp0_ = value;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->_comp);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self->priv->_comp = _tmp1_;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_notify ((GObject *) self, "comp");
#line 968 "EventButton.c"
}


static void maya_view_event_button_class_init (MayaViewEventButtonClass * klass) {
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	maya_view_event_button_parent_class = g_type_class_peek_parent (klass);
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_type_class_add_private (klass, sizeof (MayaViewEventButtonPrivate));
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_maya_view_event_button_get_property;
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_maya_view_event_button_set_property;
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	G_OBJECT_CLASS (klass)->finalize = maya_view_event_button_finalize;
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MAYA_VIEW_EVENT_BUTTON_COMP, g_param_spec_object ("comp", "comp", "comp", e_cal_component_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	g_signal_new ("edition_request", MAYA_VIEW_TYPE_EVENT_BUTTON, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 111 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	maya_view_event_button_compare_buttons = __maya_view_event_button_compare_buttons_lambda53__gcompare_data_func;
#line 989 "EventButton.c"
}


static void maya_view_event_button_instance_init (MayaViewEventButton * self) {
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self->priv = MAYA_VIEW_EVENT_BUTTON_GET_PRIVATE (self);
#line 996 "EventButton.c"
}


static void maya_view_event_button_finalize (GObject* obj) {
	MayaViewEventButton * self;
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButton);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->_comp);
#line 28 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->event_box);
#line 29 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->internal_grid);
#line 30 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	_g_object_unref0 (self->priv->label);
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	G_OBJECT_CLASS (maya_view_event_button_parent_class)->finalize (obj);
#line 1014 "EventButton.c"
}


/**
 * Represents a single event on the grid.
 */
GType maya_view_event_button_get_type (void) {
	static volatile gsize maya_view_event_button_type_id__volatile = 0;
	if (g_once_init_enter (&maya_view_event_button_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MayaViewEventButtonClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) maya_view_event_button_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MayaViewEventButton), 0, (GInstanceInitFunc) maya_view_event_button_instance_init, NULL };
		GType maya_view_event_button_type_id;
		maya_view_event_button_type_id = g_type_register_static (gtk_revealer_get_type (), "MayaViewEventButton", &g_define_type_info, 0);
		g_once_init_leave (&maya_view_event_button_type_id__volatile, maya_view_event_button_type_id);
	}
	return maya_view_event_button_type_id__volatile;
}


static void _vala_maya_view_event_button_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	MayaViewEventButton * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButton);
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	switch (property_id) {
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		case MAYA_VIEW_EVENT_BUTTON_COMP:
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		g_value_set_object (value, maya_view_event_button_get_comp (self));
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		break;
#line 1044 "EventButton.c"
		default:
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		break;
#line 1050 "EventButton.c"
	}
}


static void _vala_maya_view_event_button_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	MayaViewEventButton * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButton);
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
	switch (property_id) {
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		case MAYA_VIEW_EVENT_BUTTON_COMP:
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		maya_view_event_button_set_comp (self, g_value_get_object (value));
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		break;
#line 1066 "EventButton.c"
		default:
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 25 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/EventButton.vala"
		break;
#line 1072 "EventButton.c"
	}
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



