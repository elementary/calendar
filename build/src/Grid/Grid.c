/* Grid.c generated by valac 0.34.9, the Vala compiler
 * generated from Grid.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/*-
 * Copyright (c) 2011-2015 Maya Developers (http://launchpad.net/maya)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Authored by: Maxwell Barvian
 *              Corentin NoÃ«l <corentin@elementaryos.org>
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gee.h>
#include <maya-calendar.h>
#include <gdk/gdk.h>
#include <stdlib.h>
#include <string.h>
#include <libecal/libecal.h>
#include <libical/ical.h>


#define MAYA_VIEW_TYPE_GRID (maya_view_grid_get_type ())
#define MAYA_VIEW_GRID(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_TYPE_GRID, MayaViewGrid))
#define MAYA_VIEW_GRID_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_TYPE_GRID, MayaViewGridClass))
#define MAYA_VIEW_IS_GRID(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_TYPE_GRID))
#define MAYA_VIEW_IS_GRID_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_TYPE_GRID))
#define MAYA_VIEW_GRID_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_TYPE_GRID, MayaViewGridClass))

typedef struct _MayaViewGrid MayaViewGrid;
typedef struct _MayaViewGridClass MayaViewGridClass;
typedef struct _MayaViewGridPrivate MayaViewGridPrivate;

#define MAYA_VIEW_TYPE_GRID_DAY (maya_view_grid_day_get_type ())
#define MAYA_VIEW_GRID_DAY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_TYPE_GRID_DAY, MayaViewGridDay))
#define MAYA_VIEW_GRID_DAY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_TYPE_GRID_DAY, MayaViewGridDayClass))
#define MAYA_VIEW_IS_GRID_DAY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_TYPE_GRID_DAY))
#define MAYA_VIEW_IS_GRID_DAY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_TYPE_GRID_DAY))
#define MAYA_VIEW_GRID_DAY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_TYPE_GRID_DAY, MayaViewGridDayClass))

typedef struct _MayaViewGridDay MayaViewGridDay;
typedef struct _MayaViewGridDayClass MayaViewGridDayClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
typedef struct _Block21Data Block21Data;
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
typedef struct _MayaViewGridDayPrivate MayaViewGridDayPrivate;
typedef struct _Block22Data Block22Data;

#define MAYA_VIEW_TYPE_EVENT_BUTTON (maya_view_event_button_get_type ())
#define MAYA_VIEW_EVENT_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButton))
#define MAYA_VIEW_EVENT_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButtonClass))
#define MAYA_VIEW_IS_EVENT_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_TYPE_EVENT_BUTTON))
#define MAYA_VIEW_IS_EVENT_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_TYPE_EVENT_BUTTON))
#define MAYA_VIEW_EVENT_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_TYPE_EVENT_BUTTON, MayaViewEventButtonClass))

typedef struct _MayaViewEventButton MayaViewEventButton;
typedef struct _MayaViewEventButtonClass MayaViewEventButtonClass;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _MayaViewGrid {
	GtkGrid parent_instance;
	MayaViewGridPrivate * priv;
};

struct _MayaViewGridClass {
	GtkGridClass parent_class;
};

struct _MayaViewGridPrivate {
	GeeHashMap* data;
	MayaUtilDateRange* _grid_range;
	MayaViewGridDay* selected_gridday;
};

struct _Block21Data {
	int _ref_count_;
	MayaViewGrid* self;
	MayaViewGridDay* day;
};

struct _MayaViewGridDay {
	GtkEventBox parent_instance;
	MayaViewGridDayPrivate * priv;
	gboolean draw_left_border;
};

struct _MayaViewGridDayClass {
	GtkEventBoxClass parent_class;
};

struct _Block22Data {
	int _ref_count_;
	MayaViewGrid* self;
	ECalComponent* event;
};


static gpointer maya_view_grid_parent_class = NULL;

GType maya_view_grid_get_type (void) G_GNUC_CONST;
GType maya_view_grid_day_get_type (void) G_GNUC_CONST;
#define MAYA_VIEW_GRID_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MAYA_VIEW_TYPE_GRID, MayaViewGridPrivate))
enum  {
	MAYA_VIEW_GRID_DUMMY_PROPERTY,
	MAYA_VIEW_GRID_GRID_RANGE
};
MayaViewGrid* maya_view_grid_new (void);
MayaViewGrid* maya_view_grid_construct (GType object_type);
static void maya_view_grid_on_day_focus_in (MayaViewGrid* self, MayaViewGridDay* day);
void maya_view_grid_day_set_selected (MayaViewGridDay* self, gboolean selected);
GDateTime* maya_view_grid_day_get_date (MayaViewGridDay* self);
void maya_view_grid_focus_date (MayaViewGrid* self, GDateTime* date);
static guint maya_view_grid_day_hash (MayaViewGrid* self, GDateTime* date);
void maya_view_grid_set_range (MayaViewGrid* self, MayaUtilDateRange* new_range, GDateTime* month_start);
MayaUtilDateRange* maya_view_grid_get_grid_range (MayaViewGrid* self);
static Block21Data* block21_data_ref (Block21Data* _data21_);
static void block21_data_unref (void * _userdata_);
static MayaViewGridDay* maya_view_grid_update_day (MayaViewGrid* self, MayaViewGridDay* day, GDateTime* new_date, GDateTime* today, GDateTime* month_start);
MayaViewGridDay* maya_view_grid_day_new (GDateTime* date);
MayaViewGridDay* maya_view_grid_day_construct (GType object_type, GDateTime* date);
static void _____lambda60_ (MayaViewGrid* self, GDateTime* date);
static void ______lambda60__maya_view_grid_day_on_event_add (MayaViewGridDay* _sender, GDateTime* date, gpointer self);
static gboolean _____lambda61_ (MayaViewGrid* self, GdkEventScroll* event);
static gboolean ______lambda61__gtk_widget_scroll_event (GtkWidget* _sender, GdkEventScroll* event, gpointer self);
static gboolean _____lambda62_ (Block21Data* _data21_, GdkEventFocus* event);
static gboolean ______lambda62__gtk_widget_focus_in_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self);
static void maya_view_grid_set_grid_range (MayaViewGrid* self, MayaUtilDateRange* value);
void maya_view_grid_day_sensitive_container (MayaViewGridDay* self, gboolean sens);
void maya_view_grid_day_update_date (MayaViewGridDay* self, GDateTime* date);
void maya_view_grid_add_event (MayaViewGrid* self, ECalComponent* event);
static void maya_view_grid_add_buttons_for_range (MayaViewGrid* self, MayaUtilDateRange* dt_range, ECalComponent* event);
void maya_view_grid_draw_first_line_column (MayaViewGrid* self, gboolean draw);
static Block22Data* block22_data_ref (Block22Data* _data22_);
static void block22_data_unref (void * _userdata_);
GType maya_view_event_button_get_type (void) G_GNUC_CONST;
MayaViewEventButton* maya_view_event_button_new (ECalComponent* comp);
MayaViewEventButton* maya_view_event_button_construct (GType object_type, ECalComponent* comp);
static void maya_view_grid_add_button_for_day (MayaViewGrid* self, GDateTime* date, MayaViewEventButton* button);
static void ____lambda63_ (Block22Data* _data22_);
static void _____lambda63__maya_view_event_button_edition_request (MayaViewEventButton* _sender, gpointer self);
void maya_view_grid_day_add_event_button (MayaViewGridDay* self, MayaViewEventButton* button);
void maya_view_grid_remove_event (MayaViewGrid* self, ECalComponent* event);
void maya_view_grid_day_remove_event (MayaViewGridDay* self, ECalComponent* comp);
void maya_view_grid_remove_all_events (MayaViewGrid* self);
void maya_view_grid_day_clear_events (MayaViewGridDay* self);
static void maya_view_grid_finalize (GObject* obj);
static void _vala_maya_view_grid_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_maya_view_grid_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


MayaViewGrid* maya_view_grid_construct (GType object_type) {
	MayaViewGrid * self = NULL;
	GeeHashMap* _tmp0_ = NULL;
	GdkEventMask _tmp1_ = 0;
	GdkEventMask _tmp2_ = 0;
	GdkEventMask _tmp3_ = 0;
	GdkEventMask _tmp4_ = 0;
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self = (MayaViewGrid*) g_object_new (object_type, NULL);
#line 45 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_grid_insert_column ((GtkGrid*) self, 7);
#line 46 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_grid_set_column_homogeneous ((GtkGrid*) self, TRUE);
#line 47 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_grid_set_row_homogeneous ((GtkGrid*) self, TRUE);
#line 48 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_grid_set_column_spacing ((GtkGrid*) self, 0);
#line 49 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_grid_set_row_spacing ((GtkGrid*) self, 0);
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = gee_hash_map_new (G_TYPE_UINT, NULL, NULL, MAYA_VIEW_TYPE_GRID_DAY, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (self->priv->data);
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self->priv->data = _tmp0_;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = gtk_widget_get_events ((GtkWidget*) self);
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp2_ = _tmp1_;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_widget_set_events ((GtkWidget*) self, _tmp2_ | GDK_SCROLL_MASK);
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp3_ = gtk_widget_get_events ((GtkWidget*) self);
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp4_ = _tmp3_;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_widget_set_events ((GtkWidget*) self, _tmp4_ | GDK_SMOOTH_SCROLL_MASK);
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return self;
#line 210 "Grid.c"
}


MayaViewGrid* maya_view_grid_new (void) {
#line 42 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return maya_view_grid_construct (MAYA_VIEW_TYPE_GRID);
#line 217 "Grid.c"
}


static gpointer _g_date_time_ref0 (gpointer self) {
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return self ? g_date_time_ref (self) : NULL;
#line 224 "Grid.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 60 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return self ? g_object_ref (self) : NULL;
#line 231 "Grid.c"
}


static void maya_view_grid_on_day_focus_in (MayaViewGrid* self, MayaViewGridDay* day) {
	MayaViewGridDay* _tmp0_ = NULL;
	GDateTime* selected_date = NULL;
	MayaViewGridDay* _tmp2_ = NULL;
	GDateTime* _tmp3_ = NULL;
	GDateTime* _tmp4_ = NULL;
	GDateTime* _tmp5_ = NULL;
	MayaViewGridDay* _tmp6_ = NULL;
	MayaViewGridDay* _tmp7_ = NULL;
	MayaViewGridDay* _tmp8_ = NULL;
	MayaViewGridDay* _tmp9_ = NULL;
	GDateTime* _tmp10_ = NULL;
	MayaSettingsSavedState* _tmp11_ = NULL;
	MayaSettingsSavedState* _tmp12_ = NULL;
	GDateTime* _tmp13_ = NULL;
	gchar* _tmp14_ = NULL;
	gchar* _tmp15_ = NULL;
	MayaModelCalendarModel* calmodel = NULL;
	MayaModelCalendarModel* _tmp16_ = NULL;
	gint date_month = 0;
	GDateTime* _tmp17_ = NULL;
	gint _tmp18_ = 0;
	MayaModelCalendarModel* _tmp19_ = NULL;
	GDateTime* _tmp20_ = NULL;
	GDateTime* _tmp21_ = NULL;
	gint _tmp22_ = 0;
	gint date_year = 0;
	GDateTime* _tmp23_ = NULL;
	gint _tmp24_ = 0;
	MayaModelCalendarModel* _tmp25_ = NULL;
	GDateTime* _tmp26_ = NULL;
	GDateTime* _tmp27_ = NULL;
	gint _tmp28_ = 0;
	gboolean _tmp29_ = FALSE;
	gint _tmp30_ = 0;
#line 56 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 56 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (day != NULL);
#line 57 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = self->priv->selected_gridday;
#line 57 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp0_ != NULL) {
#line 278 "Grid.c"
		MayaViewGridDay* _tmp1_ = NULL;
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp1_ = self->priv->selected_gridday;
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		maya_view_grid_day_set_selected (_tmp1_, FALSE);
#line 284 "Grid.c"
	}
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp2_ = day;
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp3_ = maya_view_grid_day_get_date (_tmp2_);
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp4_ = _tmp3_;
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp5_ = _g_date_time_ref0 (_tmp4_);
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	selected_date = _tmp5_;
#line 60 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp6_ = day;
#line 60 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp7_ = _g_object_ref0 (_tmp6_);
#line 60 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (self->priv->selected_gridday);
#line 60 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self->priv->selected_gridday = _tmp7_;
#line 61 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp8_ = day;
#line 61 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	maya_view_grid_day_set_selected (_tmp8_, TRUE);
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp9_ = day;
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gtk_widget_set_state_flags ((GtkWidget*) _tmp9_, GTK_STATE_FLAG_FOCUSED, FALSE);
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp10_ = selected_date;
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_signal_emit_by_name (self, "selection-changed", _tmp10_);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp11_ = maya_settings_saved_state_get_default ();
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp12_ = _tmp11_;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp13_ = selected_date;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp14_ = g_date_time_format (_tmp13_, "%Y-%j");
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp15_ = _tmp14_;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	maya_settings_saved_state_set_selected_day (_tmp12_, _tmp15_);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_free0 (_tmp15_);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (_tmp12_);
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp16_ = maya_model_calendar_model_get_default ();
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	calmodel = _tmp16_;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp17_ = selected_date;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp18_ = g_date_time_get_month (_tmp17_);
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp19_ = calmodel;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp20_ = maya_model_calendar_model_get_month_start (_tmp19_);
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp21_ = _tmp20_;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp22_ = g_date_time_get_month (_tmp21_);
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	date_month = _tmp18_ - _tmp22_;
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp23_ = selected_date;
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp24_ = g_date_time_get_year (_tmp23_);
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp25_ = calmodel;
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp26_ = maya_model_calendar_model_get_month_start (_tmp25_);
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp27_ = _tmp26_;
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp28_ = g_date_time_get_year (_tmp27_);
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	date_year = _tmp24_ - _tmp28_;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp30_ = date_month;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp30_ != 0) {
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp29_ = TRUE;
#line 370 "Grid.c"
	} else {
		gint _tmp31_ = 0;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp31_ = date_year;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp29_ = _tmp31_ != 0;
#line 377 "Grid.c"
	}
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp29_) {
#line 381 "Grid.c"
		MayaModelCalendarModel* _tmp32_ = NULL;
		gint _tmp33_ = 0;
		MayaModelCalendarModel* _tmp34_ = NULL;
		gint _tmp35_ = 0;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp32_ = calmodel;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp33_ = date_month;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		maya_model_calendar_model_change_month (_tmp32_, _tmp33_);
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp34_ = calmodel;
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp35_ = date_year;
#line 70 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		maya_model_calendar_model_change_year (_tmp34_, _tmp35_);
#line 398 "Grid.c"
	}
#line 56 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (calmodel);
#line 56 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_date_time_unref0 (selected_date);
#line 404 "Grid.c"
}


static gchar* g_date_time_to_string (GDateTime* self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
#line 2845 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 2846 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp0_ = g_date_time_format (self, "%FT%H:%M:%S%z");
#line 2846 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	result = _tmp0_;
#line 2846 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	return result;
#line 419 "Grid.c"
}


void maya_view_grid_focus_date (MayaViewGrid* self, GDateTime* date) {
	GDateTime* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	guint date_hash = 0U;
	GDateTime* _tmp5_ = NULL;
	guint _tmp6_ = 0U;
	GeeHashMap* _tmp7_ = NULL;
	guint _tmp8_ = 0U;
	gboolean _tmp9_ = FALSE;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (date != NULL);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = date;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = g_date_time_to_string (_tmp0_);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp2_ = _tmp1_;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp3_ = g_strconcat ("Setting focus to @ ", _tmp2_, NULL);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp4_ = _tmp3_;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_debug ("Grid.vala:75: %s", _tmp4_);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_free0 (_tmp4_);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_free0 (_tmp2_);
#line 76 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp5_ = date;
#line 76 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp6_ = maya_view_grid_day_hash (self, _tmp5_);
#line 76 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	date_hash = _tmp6_;
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp7_ = self->priv->data;
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp8_ = date_hash;
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp9_ = gee_abstract_map_has_key ((GeeAbstractMap*) _tmp7_, (gpointer) ((guintptr) _tmp8_));
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp9_ == TRUE) {
#line 469 "Grid.c"
		MayaViewGridDay* day_widget = NULL;
		GeeHashMap* _tmp10_ = NULL;
		guint _tmp11_ = 0U;
		gpointer _tmp12_ = NULL;
		MayaViewGridDay* _tmp13_ = NULL;
		MayaViewGridDay* _tmp14_ = NULL;
#line 78 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp10_ = self->priv->data;
#line 78 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp11_ = date_hash;
#line 78 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp12_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp10_, (gpointer) ((guintptr) _tmp11_));
#line 78 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		day_widget = (MayaViewGridDay*) _tmp12_;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp13_ = day_widget;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		gtk_widget_grab_focus ((GtkWidget*) _tmp13_);
#line 80 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp14_ = day_widget;
#line 80 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		maya_view_grid_on_day_focus_in (self, _tmp14_);
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (day_widget);
#line 494 "Grid.c"
	}
}


/**
     * Sets the given range to be displayed in the grid. Note that the number of days
     * must remain the same.
     */
static Block21Data* block21_data_ref (Block21Data* _data21_) {
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_atomic_int_inc (&_data21_->_ref_count_);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return _data21_;
#line 508 "Grid.c"
}


static void block21_data_unref (void * _userdata_) {
	Block21Data* _data21_;
	_data21_ = (Block21Data*) _userdata_;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (g_atomic_int_dec_and_test (&_data21_->_ref_count_)) {
#line 517 "Grid.c"
		MayaViewGrid* self;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		self = _data21_->self;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_data21_->day);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (self);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		g_slice_free (Block21Data, _data21_);
#line 527 "Grid.c"
	}
}


static void _____lambda60_ (MayaViewGrid* self, GDateTime* date) {
	GDateTime* _tmp0_ = NULL;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (date != NULL);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = date;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_signal_emit_by_name (self, "on-event-add", _tmp0_);
#line 540 "Grid.c"
}


static void ______lambda60__maya_view_grid_day_on_event_add (MayaViewGridDay* _sender, GDateTime* date, gpointer self) {
#line 121 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_____lambda60_ ((MayaViewGrid*) self, date);
#line 547 "Grid.c"
}


static gboolean _____lambda61_ (MayaViewGrid* self, GdkEventScroll* event) {
	gboolean result = FALSE;
	GdkEventScroll* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = event;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_signal_emit_by_name ((GtkWidget*) self, "scroll-event", _tmp0_, &_tmp1_);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	result = FALSE;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return result;
#line 565 "Grid.c"
}


static gboolean ______lambda61__gtk_widget_scroll_event (GtkWidget* _sender, GdkEventScroll* event, gpointer self) {
	gboolean result;
	result = _____lambda61_ ((MayaViewGrid*) self, event);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return result;
#line 574 "Grid.c"
}


static gboolean _____lambda62_ (Block21Data* _data21_, GdkEventFocus* event) {
	MayaViewGrid* self;
	gboolean result = FALSE;
	MayaViewGridDay* _tmp0_ = NULL;
#line 123 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self = _data21_->self;
#line 123 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 124 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = _data21_->day;
#line 124 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	maya_view_grid_on_day_focus_in (self, _tmp0_);
#line 125 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	result = FALSE;
#line 125 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return result;
#line 594 "Grid.c"
}


static gboolean ______lambda62__gtk_widget_focus_in_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self) {
	gboolean result;
	result = _____lambda62_ (self, event);
#line 123 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return result;
#line 603 "Grid.c"
}


void maya_view_grid_set_range (MayaViewGrid* self, MayaUtilDateRange* new_range, GDateTime* month_start) {
	GDateTime* today = NULL;
	GDateTime* _tmp0_ = NULL;
	GeeList* old_dates = NULL;
	MayaUtilDateRange* _tmp1_ = NULL;
	GeeList* new_dates = NULL;
	MayaUtilDateRange* _tmp5_ = NULL;
	GeeList* _tmp6_ = NULL;
	GeeHashMap* data_new = NULL;
	GeeHashMap* _tmp7_ = NULL;
	GeeList* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	gint i = 0;
	gint col = 0;
	gint row = 0;
	GeeHashMap* _tmp72_ = NULL;
	GeeHashMap* _tmp73_ = NULL;
	GeeHashMap* _tmp74_ = NULL;
	MayaUtilDateRange* _tmp75_ = NULL;
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (new_range != NULL);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (month_start != NULL);
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = g_date_time_new_now_local ();
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	today = _tmp0_;
#line 92 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = self->priv->_grid_range;
#line 92 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp1_ == NULL) {
#line 641 "Grid.c"
		GeeArrayList* _tmp2_ = NULL;
#line 93 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp2_ = gee_array_list_new (G_TYPE_DATE_TIME, (GBoxedCopyFunc) g_date_time_ref, (GDestroyNotify) g_date_time_unref, NULL, NULL, NULL);
#line 93 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (old_dates);
#line 93 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		old_dates = (GeeList*) _tmp2_;
#line 649 "Grid.c"
	} else {
		MayaUtilDateRange* _tmp3_ = NULL;
		GeeList* _tmp4_ = NULL;
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp3_ = self->priv->_grid_range;
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp4_ = maya_util_date_range_to_list (_tmp3_);
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (old_dates);
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		old_dates = _tmp4_;
#line 661 "Grid.c"
	}
#line 97 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp5_ = new_range;
#line 97 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp6_ = maya_util_date_range_to_list (_tmp5_);
#line 97 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	new_dates = _tmp6_;
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp7_ = gee_hash_map_new (G_TYPE_UINT, NULL, NULL, MAYA_VIEW_TYPE_GRID_DAY, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 99 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	data_new = _tmp7_;
#line 102 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp8_ = new_dates;
#line 102 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp9_ = gee_collection_get_size ((GeeCollection*) _tmp8_);
#line 102 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp10_ = _tmp9_;
#line 102 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_vala_assert ((_tmp10_ % 7) == 0, "new_dates.size % 7 == 0");
#line 106 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	i = 0;
#line 107 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	col = 0;
#line 107 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	row = 0;
#line 687 "Grid.c"
	{
		gboolean _tmp11_ = FALSE;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		i = 0;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp11_ = TRUE;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		while (TRUE) {
#line 696 "Grid.c"
			Block21Data* _data21_;
			gint _tmp13_ = 0;
			GeeList* _tmp14_ = NULL;
			gint _tmp15_ = 0;
			gint _tmp16_ = 0;
			GDateTime* new_date = NULL;
			GeeList* _tmp17_ = NULL;
			gint _tmp18_ = 0;
			gpointer _tmp19_ = NULL;
			gint _tmp20_ = 0;
			GeeList* _tmp21_ = NULL;
			gint _tmp22_ = 0;
			gint _tmp23_ = 0;
			gint _tmp50_ = 0;
			gint _tmp51_ = 0;
			gint _tmp52_ = 0;
			GeeHashMap* _tmp55_ = NULL;
			GDateTime* _tmp56_ = NULL;
			guint _tmp57_ = 0U;
			MayaViewGridDay* _tmp58_ = NULL;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_data21_ = g_slice_new0 (Block21Data);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_data21_->_ref_count_ = 1;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_data21_->self = g_object_ref (self);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (!_tmp11_) {
#line 725 "Grid.c"
				gint _tmp12_ = 0;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp12_ = i;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				i = _tmp12_ + 1;
#line 731 "Grid.c"
			}
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp11_ = FALSE;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp13_ = i;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp14_ = new_dates;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp15_ = gee_collection_get_size ((GeeCollection*) _tmp14_);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp16_ = _tmp15_;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (!(_tmp13_ < _tmp16_)) {
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				block21_data_unref (_data21_);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_data21_ = NULL;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				break;
#line 751 "Grid.c"
			}
#line 110 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp17_ = new_dates;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp18_ = i;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp19_ = gee_list_get (_tmp17_, _tmp18_);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			new_date = (GDateTime*) _tmp19_;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp20_ = i;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp21_ = old_dates;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp22_ = gee_collection_get_size ((GeeCollection*) _tmp21_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp23_ = _tmp22_;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (_tmp20_ < _tmp23_) {
#line 771 "Grid.c"
				GDateTime* old_date = NULL;
				GeeList* _tmp24_ = NULL;
				gint _tmp25_ = 0;
				gpointer _tmp26_ = NULL;
				GeeHashMap* _tmp27_ = NULL;
				GDateTime* _tmp28_ = NULL;
				guint _tmp29_ = 0U;
				gpointer _tmp30_ = NULL;
				MayaViewGridDay* _tmp31_ = NULL;
				GDateTime* _tmp32_ = NULL;
				GDateTime* _tmp33_ = NULL;
				GDateTime* _tmp34_ = NULL;
				MayaViewGridDay* _tmp35_ = NULL;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp24_ = old_dates;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp25_ = i;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp26_ = gee_list_get (_tmp24_, _tmp25_);
#line 115 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				old_date = (GDateTime*) _tmp26_;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp27_ = self->priv->data;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp28_ = old_date;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp29_ = maya_view_grid_day_hash (self, _tmp28_);
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp30_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp27_, (gpointer) ((guintptr) _tmp29_));
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp31_ = (MayaViewGridDay*) _tmp30_;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp32_ = new_date;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp33_ = today;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp34_ = month_start;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp35_ = maya_view_grid_update_day (self, _tmp31_, _tmp32_, _tmp33_, _tmp34_);
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_g_object_unref0 (_data21_->day);
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_data21_->day = _tmp35_;
#line 116 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_g_object_unref0 (_tmp31_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_g_date_time_unref0 (old_date);
#line 819 "Grid.c"
			} else {
				GDateTime* _tmp36_ = NULL;
				MayaViewGridDay* _tmp37_ = NULL;
				MayaViewGridDay* _tmp38_ = NULL;
				GDateTime* _tmp39_ = NULL;
				GDateTime* _tmp40_ = NULL;
				GDateTime* _tmp41_ = NULL;
				MayaViewGridDay* _tmp42_ = NULL;
				MayaViewGridDay* _tmp43_ = NULL;
				MayaViewGridDay* _tmp44_ = NULL;
				MayaViewGridDay* _tmp45_ = NULL;
				MayaViewGridDay* _tmp46_ = NULL;
				gint _tmp47_ = 0;
				gint _tmp48_ = 0;
				MayaViewGridDay* _tmp49_ = NULL;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp36_ = new_date;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp37_ = maya_view_grid_day_new (_tmp36_);
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				g_object_ref_sink (_tmp37_);
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp38_ = _tmp37_;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp39_ = new_date;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp40_ = today;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp41_ = month_start;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp42_ = maya_view_grid_update_day (self, _tmp38_, _tmp39_, _tmp40_, _tmp41_);
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_g_object_unref0 (_data21_->day);
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_data21_->day = _tmp42_;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_g_object_unref0 (_tmp38_);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp43_ = _data21_->day;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				g_signal_connect_object (_tmp43_, "on-event-add", (GCallback) ______lambda60__maya_view_grid_day_on_event_add, self, 0);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp44_ = _data21_->day;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				g_signal_connect_object ((GtkWidget*) _tmp44_, "scroll-event", (GCallback) ______lambda61__gtk_widget_scroll_event, self, 0);
#line 123 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp45_ = _data21_->day;
#line 123 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				g_signal_connect_data ((GtkWidget*) _tmp45_, "focus-in-event", (GCallback) ______lambda62__gtk_widget_focus_in_event, block21_data_ref (_data21_), (GClosureNotify) block21_data_unref, 0);
#line 128 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp46_ = _data21_->day;
#line 128 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp47_ = col;
#line 128 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp48_ = row;
#line 128 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp46_, _tmp47_, _tmp48_, 1, 1);
#line 129 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp49_ = _data21_->day;
#line 129 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				gtk_widget_show_all ((GtkWidget*) _tmp49_);
#line 881 "Grid.c"
			}
#line 132 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp50_ = col;
#line 132 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			col = (_tmp50_ + 1) % 7;
#line 133 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp52_ = col;
#line 133 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (_tmp52_ == 0) {
#line 891 "Grid.c"
				gint _tmp53_ = 0;
#line 133 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp53_ = row;
#line 133 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp51_ = _tmp53_ + 1;
#line 897 "Grid.c"
			} else {
				gint _tmp54_ = 0;
#line 133 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp54_ = row;
#line 133 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp51_ = _tmp54_;
#line 904 "Grid.c"
			}
#line 133 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			row = _tmp51_;
#line 134 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp55_ = data_new;
#line 134 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp56_ = new_date;
#line 134 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp57_ = maya_view_grid_day_hash (self, _tmp56_);
#line 134 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp58_ = _data21_->day;
#line 134 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			gee_abstract_map_set ((GeeAbstractMap*) _tmp55_, (gpointer) ((guintptr) _tmp57_), _tmp58_);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_g_date_time_unref0 (new_date);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			block21_data_unref (_data21_);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_data21_ = NULL;
#line 924 "Grid.c"
		}
	}
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	while (TRUE) {
#line 929 "Grid.c"
		gint _tmp59_ = 0;
		GeeList* _tmp60_ = NULL;
		gint _tmp61_ = 0;
		gint _tmp62_ = 0;
		GDateTime* old_date = NULL;
		GeeList* _tmp63_ = NULL;
		gint _tmp64_ = 0;
		gpointer _tmp65_ = NULL;
		MayaViewGridDay* old_day = NULL;
		GeeHashMap* _tmp66_ = NULL;
		GDateTime* _tmp67_ = NULL;
		guint _tmp68_ = 0U;
		gpointer _tmp69_ = NULL;
		MayaViewGridDay* _tmp70_ = NULL;
		gint _tmp71_ = 0;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp59_ = i;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp60_ = old_dates;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp61_ = gee_collection_get_size ((GeeCollection*) _tmp60_);
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp62_ = _tmp61_;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		if (!(_tmp59_ < _tmp62_)) {
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			break;
#line 957 "Grid.c"
		}
#line 140 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp63_ = old_dates;
#line 140 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp64_ = i;
#line 140 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp65_ = gee_list_get (_tmp63_, _tmp64_);
#line 140 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		old_date = (GDateTime*) _tmp65_;
#line 141 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp66_ = self->priv->data;
#line 141 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp67_ = old_date;
#line 141 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp68_ = maya_view_grid_day_hash (self, _tmp67_);
#line 141 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp69_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp66_, (gpointer) ((guintptr) _tmp68_));
#line 141 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		old_day = (MayaViewGridDay*) _tmp69_;
#line 143 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp70_ = old_day;
#line 143 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		gtk_widget_destroy ((GtkWidget*) _tmp70_);
#line 144 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp71_ = i;
#line 144 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		i = _tmp71_ + 1;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (old_day);
#line 138 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_date_time_unref0 (old_date);
#line 989 "Grid.c"
	}
#line 147 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp72_ = self->priv->data;
#line 147 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gee_abstract_map_clear ((GeeAbstractMap*) _tmp72_);
#line 148 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp73_ = self->priv->data;
#line 148 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp74_ = data_new;
#line 148 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	gee_map_set_all ((GeeMap*) _tmp73_, (GeeMap*) _tmp74_);
#line 150 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp75_ = new_range;
#line 150 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	maya_view_grid_set_grid_range (self, _tmp75_);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (data_new);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (new_dates);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (old_dates);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_date_time_unref0 (today);
#line 1013 "Grid.c"
}


/**
     * Updates the given GridDay so that it shows the given date. Changes to its style etc.
     */
static MayaViewGridDay* maya_view_grid_update_day (MayaViewGrid* self, MayaViewGridDay* day, GDateTime* new_date, GDateTime* today, GDateTime* month_start) {
	MayaViewGridDay* result = NULL;
	gboolean _tmp0_ = FALSE;
	GDateTime* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	GDateTime* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	GDateTime* _tmp10_ = NULL;
	gint _tmp11_ = 0;
	GDateTime* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	MayaViewGridDay* _tmp16_ = NULL;
	GDateTime* _tmp17_ = NULL;
	MayaViewGridDay* _tmp18_ = NULL;
	MayaViewGridDay* _tmp19_ = NULL;
#line 156 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 156 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (day != NULL, NULL);
#line 156 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (new_date != NULL, NULL);
#line 156 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (today != NULL, NULL);
#line 156 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (month_start != NULL, NULL);
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = new_date;
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp2_ = g_date_time_get_day_of_year (_tmp1_);
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp3_ = today;
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp4_ = g_date_time_get_day_of_year (_tmp3_);
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp2_ == _tmp4_) {
#line 1055 "Grid.c"
		GDateTime* _tmp5_ = NULL;
		gint _tmp6_ = 0;
		GDateTime* _tmp7_ = NULL;
		gint _tmp8_ = 0;
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp5_ = new_date;
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp6_ = g_date_time_get_year (_tmp5_);
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp7_ = today;
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp8_ = g_date_time_get_year (_tmp7_);
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp0_ = _tmp6_ == _tmp8_;
#line 1070 "Grid.c"
	} else {
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp0_ = FALSE;
#line 1074 "Grid.c"
	}
#line 157 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp0_) {
#line 1078 "Grid.c"
		MayaViewGridDay* _tmp9_ = NULL;
#line 158 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp9_ = day;
#line 158 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		gtk_widget_set_name ((GtkWidget*) _tmp9_, "today");
#line 1084 "Grid.c"
	}
#line 161 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp10_ = new_date;
#line 161 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp11_ = g_date_time_get_month (_tmp10_);
#line 161 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp12_ = month_start;
#line 161 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp13_ = g_date_time_get_month (_tmp12_);
#line 161 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp11_ == _tmp13_) {
#line 1096 "Grid.c"
		MayaViewGridDay* _tmp14_ = NULL;
#line 162 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp14_ = day;
#line 162 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		maya_view_grid_day_sensitive_container (_tmp14_, TRUE);
#line 1102 "Grid.c"
	} else {
		MayaViewGridDay* _tmp15_ = NULL;
#line 164 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp15_ = day;
#line 164 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		maya_view_grid_day_sensitive_container (_tmp15_, FALSE);
#line 1109 "Grid.c"
	}
#line 167 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp16_ = day;
#line 167 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp17_ = new_date;
#line 167 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	maya_view_grid_day_update_date (_tmp16_, _tmp17_);
#line 168 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp18_ = day;
#line 168 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp19_ = _g_object_ref0 (_tmp18_);
#line 168 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	result = _tmp19_;
#line 168 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return result;
#line 1125 "Grid.c"
}


/**
     * Puts the given event on the grid.
     */
void maya_view_grid_add_event (MayaViewGrid* self, ECalComponent* event) {
	icalcomponent* comp = NULL;
	ECalComponent* _tmp0_ = NULL;
	icalcomponent* _tmp1_ = NULL;
#line 174 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 174 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (event != NULL);
#line 175 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = event;
#line 175 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = e_cal_component_get_icalcomponent (_tmp0_);
#line 175 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	comp = _tmp1_;
#line 1146 "Grid.c"
	{
		GeeIterator* _dt_range_it = NULL;
		icalcomponent* _tmp2_ = NULL;
		MayaUtilDateRange* _tmp3_ = NULL;
		GeeCollection* _tmp4_ = NULL;
		GeeCollection* _tmp5_ = NULL;
		GeeIterator* _tmp6_ = NULL;
		GeeIterator* _tmp7_ = NULL;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp2_ = comp;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp3_ = self->priv->_grid_range;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp4_ = maya_util_event_date_ranges (_tmp2_, _tmp3_);
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp5_ = _tmp4_;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp6_ = gee_iterable_iterator ((GeeIterable*) _tmp5_);
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp7_ = _tmp6_;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_tmp5_);
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_dt_range_it = _tmp7_;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		while (TRUE) {
#line 1173 "Grid.c"
			GeeIterator* _tmp8_ = NULL;
			gboolean _tmp9_ = FALSE;
			MayaUtilDateRange* dt_range = NULL;
			GeeIterator* _tmp10_ = NULL;
			gpointer _tmp11_ = NULL;
			MayaUtilDateRange* _tmp12_ = NULL;
			ECalComponent* _tmp13_ = NULL;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp8_ = _dt_range_it;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp9_ = gee_iterator_next (_tmp8_);
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (!_tmp9_) {
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				break;
#line 1189 "Grid.c"
			}
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp10_ = _dt_range_it;
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp11_ = gee_iterator_get (_tmp10_);
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			dt_range = (MayaUtilDateRange*) _tmp11_;
#line 177 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp12_ = dt_range;
#line 177 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp13_ = event;
#line 177 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			maya_view_grid_add_buttons_for_range (self, _tmp12_, _tmp13_);
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_g_object_unref0 (dt_range);
#line 1205 "Grid.c"
		}
#line 176 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_dt_range_it);
#line 1209 "Grid.c"
	}
}


/**
     * Notify when the week number revealer is revealed
     */
void maya_view_grid_draw_first_line_column (MayaViewGrid* self, gboolean draw) {
	guint lines = 0U;
	GList* _tmp0_ = NULL;
	GList* _tmp1_ = NULL;
	guint _tmp2_ = 0U;
	guint _tmp3_ = 0U;
#line 184 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 185 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = gtk_container_get_children ((GtkContainer*) self);
#line 185 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = _tmp0_;
#line 185 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp2_ = g_list_length (_tmp1_);
#line 185 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp3_ = _tmp2_ / 7;
#line 185 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_list_free0 (_tmp1_);
#line 185 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	lines = _tmp3_;
#line 1237 "Grid.c"
	{
		gint i = 0;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		i = 0;
#line 1242 "Grid.c"
		{
			gboolean _tmp4_ = FALSE;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp4_ = TRUE;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			while (TRUE) {
#line 1249 "Grid.c"
				gint _tmp6_ = 0;
				guint _tmp7_ = 0U;
				GtkWidget* child = NULL;
				gint _tmp8_ = 0;
				GtkWidget* _tmp9_ = NULL;
				GtkWidget* _tmp10_ = NULL;
				GtkWidget* _tmp11_ = NULL;
				gboolean _tmp12_ = FALSE;
				GtkWidget* _tmp13_ = NULL;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				if (!_tmp4_) {
#line 1261 "Grid.c"
					gint _tmp5_ = 0;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
					_tmp5_ = i;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
					i = _tmp5_ + 1;
#line 1267 "Grid.c"
				}
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp4_ = FALSE;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp6_ = i;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp7_ = lines;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				if (!(((guint) _tmp6_) < _tmp7_)) {
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
					break;
#line 1279 "Grid.c"
				}
#line 187 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp8_ = i;
#line 187 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp9_ = gtk_grid_get_child_at ((GtkGrid*) self, 0, _tmp8_);
#line 187 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp10_ = _g_object_ref0 (_tmp9_);
#line 187 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				child = _tmp10_;
#line 188 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp11_ = child;
#line 188 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp12_ = draw;
#line 188 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, MAYA_VIEW_TYPE_GRID_DAY, MayaViewGridDay)->draw_left_border = _tmp12_;
#line 189 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_tmp13_ = child;
#line 189 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				gtk_widget_queue_draw (_tmp13_);
#line 186 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				_g_object_unref0 (child);
#line 1301 "Grid.c"
			}
		}
	}
}


/**
     * Adds an eventbutton to the grid for the given event at each day of the given range.
     */
static Block22Data* block22_data_ref (Block22Data* _data22_) {
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_atomic_int_inc (&_data22_->_ref_count_);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return _data22_;
#line 1316 "Grid.c"
}


static void block22_data_unref (void * _userdata_) {
	Block22Data* _data22_;
	_data22_ = (Block22Data*) _userdata_;
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (g_atomic_int_dec_and_test (&_data22_->_ref_count_)) {
#line 1325 "Grid.c"
		MayaViewGrid* self;
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		self = _data22_->self;
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_data22_->event);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (self);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		g_slice_free (Block22Data, _data22_);
#line 1335 "Grid.c"
	}
}


static void ____lambda63_ (Block22Data* _data22_) {
	MayaViewGrid* self;
	ECalComponent* _tmp0_ = NULL;
#line 200 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self = _data22_->self;
#line 201 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = _data22_->event;
#line 201 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_signal_emit_by_name (self, "edition-request", _tmp0_);
#line 1349 "Grid.c"
}


static void _____lambda63__maya_view_event_button_edition_request (MayaViewEventButton* _sender, gpointer self) {
#line 200 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	____lambda63_ (self);
#line 1356 "Grid.c"
}


static void maya_view_grid_add_buttons_for_range (MayaViewGrid* self, MayaUtilDateRange* dt_range, ECalComponent* event) {
	Block22Data* _data22_;
	ECalComponent* _tmp0_ = NULL;
	ECalComponent* _tmp1_ = NULL;
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (dt_range != NULL);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (event != NULL);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_data22_ = g_slice_new0 (Block22Data);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_data22_->_ref_count_ = 1;
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_data22_->self = g_object_ref (self);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = event;
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (_data22_->event);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_data22_->event = _tmp1_;
#line 1384 "Grid.c"
	{
		GeeIterator* _date_it = NULL;
		MayaUtilDateRange* _tmp2_ = NULL;
		GeeIterator* _tmp3_ = NULL;
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp2_ = dt_range;
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp3_ = gee_iterable_iterator ((GeeIterable*) _tmp2_);
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_date_it = _tmp3_;
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		while (TRUE) {
#line 1397 "Grid.c"
			GeeIterator* _tmp4_ = NULL;
			gboolean _tmp5_ = FALSE;
			GDateTime* date = NULL;
			GeeIterator* _tmp6_ = NULL;
			gpointer _tmp7_ = NULL;
			MayaViewEventButton* button = NULL;
			ECalComponent* _tmp8_ = NULL;
			MayaViewEventButton* _tmp9_ = NULL;
			GDateTime* _tmp10_ = NULL;
			MayaViewEventButton* _tmp11_ = NULL;
			MayaViewEventButton* _tmp12_ = NULL;
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp4_ = _date_it;
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp5_ = gee_iterator_next (_tmp4_);
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (!_tmp5_) {
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				break;
#line 1417 "Grid.c"
			}
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp6_ = _date_it;
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp7_ = gee_iterator_get (_tmp6_);
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			date = (GDateTime*) _tmp7_;
#line 198 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp8_ = _data22_->event;
#line 198 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp9_ = maya_view_event_button_new (_tmp8_);
#line 198 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			g_object_ref_sink (_tmp9_);
#line 198 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			button = _tmp9_;
#line 199 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp10_ = date;
#line 199 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp11_ = button;
#line 199 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			maya_view_grid_add_button_for_day (self, _tmp10_, _tmp11_);
#line 200 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp12_ = button;
#line 200 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			g_signal_connect_data (_tmp12_, "edition-request", (GCallback) _____lambda63__maya_view_event_button_edition_request, block22_data_ref (_data22_), (GClosureNotify) block22_data_unref, 0);
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_g_object_unref0 (button);
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_g_date_time_unref0 (date);
#line 1447 "Grid.c"
		}
#line 197 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_date_it);
#line 1451 "Grid.c"
	}
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	block22_data_unref (_data22_);
#line 196 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_data22_ = NULL;
#line 1457 "Grid.c"
}


static void maya_view_grid_add_button_for_day (MayaViewGrid* self, GDateTime* date, MayaViewEventButton* button) {
	guint hash = 0U;
	GDateTime* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	GeeHashMap* _tmp2_ = NULL;
	guint _tmp3_ = 0U;
	gboolean _tmp4_ = FALSE;
	MayaViewGridDay* grid_day = NULL;
	GeeHashMap* _tmp5_ = NULL;
	guint _tmp6_ = 0U;
	gpointer _tmp7_ = NULL;
	MayaViewGridDay* _tmp8_ = NULL;
	MayaViewEventButton* _tmp9_ = NULL;
#line 206 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 206 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (date != NULL);
#line 206 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (button != NULL);
#line 207 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = date;
#line 207 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = maya_view_grid_day_hash (self, _tmp0_);
#line 207 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	hash = _tmp1_;
#line 208 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp2_ = self->priv->data;
#line 208 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp3_ = hash;
#line 208 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp4_ = gee_abstract_map_has_key ((GeeAbstractMap*) _tmp2_, (gpointer) ((guintptr) _tmp3_));
#line 208 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	if (_tmp4_ == FALSE) {
#line 209 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		return;
#line 1496 "Grid.c"
	}
#line 210 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp5_ = self->priv->data;
#line 210 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp6_ = hash;
#line 210 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp7_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp5_, (gpointer) ((guintptr) _tmp6_));
#line 210 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	grid_day = (MayaViewGridDay*) _tmp7_;
#line 211 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp8_ = grid_day;
#line 211 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp9_ = button;
#line 211 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	maya_view_grid_day_add_event_button (_tmp8_, _tmp9_);
#line 206 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (grid_day);
#line 1514 "Grid.c"
}


static guint maya_view_grid_day_hash (MayaViewGrid* self, GDateTime* date) {
	guint result = 0U;
	GDateTime* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	GDateTime* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	GDateTime* _tmp4_ = NULL;
	gint _tmp5_ = 0;
#line 214 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (self != NULL, 0U);
#line 214 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (date != NULL, 0U);
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = date;
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = g_date_time_get_year (_tmp0_);
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp2_ = date;
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp3_ = g_date_time_get_month (_tmp2_);
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp4_ = date;
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp5_ = g_date_time_get_day_of_month (_tmp4_);
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	result = (guint) (((_tmp1_ * 10000) + (_tmp3_ * 100)) + _tmp5_);
#line 215 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return result;
#line 1546 "Grid.c"
}


/**
     * Removes the given event from the grid.
     */
void maya_view_grid_remove_event (MayaViewGrid* self, ECalComponent* event) {
#line 221 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 221 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (event != NULL);
#line 1558 "Grid.c"
	{
		GeeIterator* _grid_day_it = NULL;
		GeeHashMap* _tmp0_ = NULL;
		GeeCollection* _tmp1_ = NULL;
		GeeCollection* _tmp2_ = NULL;
		GeeCollection* _tmp3_ = NULL;
		GeeIterator* _tmp4_ = NULL;
		GeeIterator* _tmp5_ = NULL;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp0_ = self->priv->data;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp1_ = gee_abstract_map_get_values ((GeeAbstractMap*) _tmp0_);
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp2_ = _tmp1_;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp3_ = _tmp2_;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp4_ = gee_iterable_iterator ((GeeIterable*) _tmp3_);
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp5_ = _tmp4_;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_tmp3_);
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_grid_day_it = _tmp5_;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		while (TRUE) {
#line 1585 "Grid.c"
			GeeIterator* _tmp6_ = NULL;
			gboolean _tmp7_ = FALSE;
			MayaViewGridDay* grid_day = NULL;
			GeeIterator* _tmp8_ = NULL;
			gpointer _tmp9_ = NULL;
			MayaViewGridDay* _tmp10_ = NULL;
			ECalComponent* _tmp11_ = NULL;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp6_ = _grid_day_it;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp7_ = gee_iterator_next (_tmp6_);
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (!_tmp7_) {
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				break;
#line 1601 "Grid.c"
			}
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp8_ = _grid_day_it;
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp9_ = gee_iterator_get (_tmp8_);
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			grid_day = (MayaViewGridDay*) _tmp9_;
#line 223 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp10_ = grid_day;
#line 223 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp11_ = event;
#line 223 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			maya_view_grid_day_remove_event (_tmp10_, _tmp11_);
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_g_object_unref0 (grid_day);
#line 1617 "Grid.c"
		}
#line 222 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_grid_day_it);
#line 1621 "Grid.c"
	}
}


/**
     * Removes all events from the grid.
     */
void maya_view_grid_remove_all_events (MayaViewGrid* self) {
#line 230 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 1632 "Grid.c"
	{
		GeeIterator* _grid_day_it = NULL;
		GeeHashMap* _tmp0_ = NULL;
		GeeCollection* _tmp1_ = NULL;
		GeeCollection* _tmp2_ = NULL;
		GeeCollection* _tmp3_ = NULL;
		GeeIterator* _tmp4_ = NULL;
		GeeIterator* _tmp5_ = NULL;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp0_ = self->priv->data;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp1_ = gee_abstract_map_get_values ((GeeAbstractMap*) _tmp0_);
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp2_ = _tmp1_;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp3_ = _tmp2_;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp4_ = gee_iterable_iterator ((GeeIterable*) _tmp3_);
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_tmp5_ = _tmp4_;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_tmp3_);
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_grid_day_it = _tmp5_;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		while (TRUE) {
#line 1659 "Grid.c"
			GeeIterator* _tmp6_ = NULL;
			gboolean _tmp7_ = FALSE;
			MayaViewGridDay* grid_day = NULL;
			GeeIterator* _tmp8_ = NULL;
			gpointer _tmp9_ = NULL;
			MayaViewGridDay* _tmp10_ = NULL;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp6_ = _grid_day_it;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp7_ = gee_iterator_next (_tmp6_);
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			if (!_tmp7_) {
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
				break;
#line 1674 "Grid.c"
			}
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp8_ = _grid_day_it;
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp9_ = gee_iterator_get (_tmp8_);
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			grid_day = (MayaViewGridDay*) _tmp9_;
#line 232 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_tmp10_ = grid_day;
#line 232 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			maya_view_grid_day_clear_events (_tmp10_);
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
			_g_object_unref0 (grid_day);
#line 1688 "Grid.c"
		}
#line 231 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		_g_object_unref0 (_grid_day_it);
#line 1692 "Grid.c"
	}
}


MayaUtilDateRange* maya_view_grid_get_grid_range (MayaViewGrid* self) {
	MayaUtilDateRange* result;
	MayaUtilDateRange* _tmp0_ = NULL;
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = self->priv->_grid_range;
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	result = _tmp0_;
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	return result;
#line 1708 "Grid.c"
}


static void maya_view_grid_set_grid_range (MayaViewGrid* self, MayaUtilDateRange* value) {
	MayaUtilDateRange* _tmp0_ = NULL;
	MayaUtilDateRange* _tmp1_ = NULL;
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_return_if_fail (self != NULL);
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp0_ = value;
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (self->priv->_grid_range);
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self->priv->_grid_range = _tmp1_;
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_object_notify ((GObject *) self, "grid-range");
#line 1727 "Grid.c"
}


static void maya_view_grid_class_init (MayaViewGridClass * klass) {
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	maya_view_grid_parent_class = g_type_class_peek_parent (klass);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_type_class_add_private (klass, sizeof (MayaViewGridPrivate));
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_maya_view_grid_get_property;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_maya_view_grid_set_property;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	G_OBJECT_CLASS (klass)->finalize = maya_view_grid_finalize;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), MAYA_VIEW_GRID_GRID_RANGE, g_param_spec_object ("grid-range", "grid-range", "grid-range", MAYA_UTIL_TYPE_DATE_RANGE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_signal_new ("on_event_add", MAYA_VIEW_TYPE_GRID, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__BOXED, G_TYPE_NONE, 1, G_TYPE_DATE_TIME);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_signal_new ("edition_request", MAYA_VIEW_TYPE_GRID, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, e_cal_component_get_type ());
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	g_signal_new ("selection_changed", MAYA_VIEW_TYPE_GRID, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__BOXED, G_TYPE_NONE, 1, G_TYPE_DATE_TIME);
#line 1750 "Grid.c"
}


static void maya_view_grid_instance_init (MayaViewGrid * self) {
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self->priv = MAYA_VIEW_GRID_GET_PRIVATE (self);
#line 1757 "Grid.c"
}


static void maya_view_grid_finalize (GObject* obj) {
	MayaViewGrid * self;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MAYA_VIEW_TYPE_GRID, MayaViewGrid);
#line 29 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (self->priv->data);
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (self->priv->_grid_range);
#line 40 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	_g_object_unref0 (self->priv->selected_gridday);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	G_OBJECT_CLASS (maya_view_grid_parent_class)->finalize (obj);
#line 1773 "Grid.c"
}


/**
 * Represents the entire date grid as a table.
 */
GType maya_view_grid_get_type (void) {
	static volatile gsize maya_view_grid_type_id__volatile = 0;
	if (g_once_init_enter (&maya_view_grid_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MayaViewGridClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) maya_view_grid_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MayaViewGrid), 0, (GInstanceInitFunc) maya_view_grid_instance_init, NULL };
		GType maya_view_grid_type_id;
		maya_view_grid_type_id = g_type_register_static (gtk_grid_get_type (), "MayaViewGrid", &g_define_type_info, 0);
		g_once_init_leave (&maya_view_grid_type_id__volatile, maya_view_grid_type_id);
	}
	return maya_view_grid_type_id__volatile;
}


static void _vala_maya_view_grid_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	MayaViewGrid * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MAYA_VIEW_TYPE_GRID, MayaViewGrid);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	switch (property_id) {
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		case MAYA_VIEW_GRID_GRID_RANGE:
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		g_value_set_object (value, maya_view_grid_get_grid_range (self));
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		break;
#line 1803 "Grid.c"
		default:
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		break;
#line 1809 "Grid.c"
	}
}


static void _vala_maya_view_grid_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	MayaViewGrid * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, MAYA_VIEW_TYPE_GRID, MayaViewGrid);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
	switch (property_id) {
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		case MAYA_VIEW_GRID_GRID_RANGE:
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		maya_view_grid_set_grid_range (self, g_value_get_object (value));
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		break;
#line 1825 "Grid.c"
		default:
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Grid.vala"
		break;
#line 1831 "Grid.c"
	}
}



