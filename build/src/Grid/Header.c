/* Header.c generated by valac 0.34.9, the Vala compiler
 * generated from Header.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/
/*-
 * Copyright (c) 2011-2015 Maya Developers (http://launchpad.net/maya)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Authored by: Maxwell Barvian
 *              Corentin NoÃ«l <corentin@elementaryos.org>
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gdk/gdk.h>
#include <maya-calendar.h>
#include <cairo.h>
#include <glib/gi18n-lib.h>
#include <float.h>
#include <math.h>


#define MAYA_VIEW_TYPE_HEADER (maya_view_header_get_type ())
#define MAYA_VIEW_HEADER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), MAYA_VIEW_TYPE_HEADER, MayaViewHeader))
#define MAYA_VIEW_HEADER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), MAYA_VIEW_TYPE_HEADER, MayaViewHeaderClass))
#define MAYA_VIEW_IS_HEADER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), MAYA_VIEW_TYPE_HEADER))
#define MAYA_VIEW_IS_HEADER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), MAYA_VIEW_TYPE_HEADER))
#define MAYA_VIEW_HEADER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), MAYA_VIEW_TYPE_HEADER, MayaViewHeaderClass))

typedef struct _MayaViewHeader MayaViewHeader;
typedef struct _MayaViewHeaderClass MayaViewHeaderClass;
typedef struct _MayaViewHeaderPrivate MayaViewHeaderPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

struct _MayaViewHeader {
	GtkEventBox parent_instance;
	MayaViewHeaderPrivate * priv;
	gboolean draw_left_border;
};

struct _MayaViewHeaderClass {
	GtkEventBoxClass parent_class;
};

struct _MayaViewHeaderPrivate {
	GtkGrid* header_grid;
	GtkLabel** labels;
	gint labels_length1;
	gint _labels_size_;
};


static gpointer maya_view_header_parent_class = NULL;

GType maya_view_header_get_type (void) G_GNUC_CONST;
#define MAYA_VIEW_HEADER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), MAYA_VIEW_TYPE_HEADER, MayaViewHeaderPrivate))
enum  {
	MAYA_VIEW_HEADER_DUMMY_PROPERTY
};
MayaViewHeader* maya_view_header_new (void);
MayaViewHeader* maya_view_header_construct (GType object_type);
static gboolean maya_view_header_on_draw (MayaViewHeader* self, GtkWidget* widget, cairo_t* cr);
static gboolean _maya_view_header_on_draw_gtk_widget_draw (GtkWidget* _sender, cairo_t* cr, gpointer self);
static gboolean __lambda49_ (MayaViewHeader* self, GdkEventButton* event);
static void ___lambda50_ (MayaViewHeader* self);
static void ____lambda50__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static gboolean ___lambda49__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
void maya_view_header_update_columns (MayaViewHeader* self, gint week_starts_on);
static void maya_view_header_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


static gpointer _g_object_ref0 (gpointer self) {
#line 43 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	return self ? g_object_ref (self) : NULL;
#line 93 "Header.c"
}


static gboolean _maya_view_header_on_draw_gtk_widget_draw (GtkWidget* _sender, cairo_t* cr, gpointer self) {
	gboolean result;
	result = maya_view_header_on_draw ((MayaViewHeader*) self, _sender, cr);
#line 57 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	return result;
#line 102 "Header.c"
}


static void ___lambda50_ (MayaViewHeader* self) {
	MayaSettingsSavedState* _tmp0_ = NULL;
	MayaSettingsSavedState* _tmp1_ = NULL;
	MayaSettingsSavedState* _tmp2_ = NULL;
	MayaSettingsSavedState* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp0_ = maya_settings_saved_state_get_default ();
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp1_ = _tmp0_;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp2_ = maya_settings_saved_state_get_default ();
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp3_ = _tmp2_;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp4_ = maya_settings_saved_state_get_show_weeks (_tmp3_);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp5_ = _tmp4_;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	maya_settings_saved_state_set_show_weeks (_tmp1_, !_tmp5_);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_object_unref0 (_tmp3_);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_object_unref0 (_tmp1_);
#line 131 "Header.c"
}


static void ____lambda50__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	___lambda50_ ((MayaViewHeader*) self);
#line 138 "Header.c"
}


static gboolean __lambda49_ (MayaViewHeader* self, GdkEventButton* event) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GdkEventButton* _tmp1_ = NULL;
	GdkEventType _tmp2_ = 0;
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp1_ = event;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp2_ = _tmp1_->type;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	if (_tmp2_ == GDK_BUTTON_PRESS) {
#line 155 "Header.c"
		GdkEventButton* _tmp3_ = NULL;
		guint _tmp4_ = 0U;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp3_ = event;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp4_ = _tmp3_->button;
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp0_ = _tmp4_ == ((guint) GDK_BUTTON_SECONDARY);
#line 164 "Header.c"
	} else {
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp0_ = FALSE;
#line 168 "Header.c"
	}
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	if (_tmp0_) {
#line 172 "Header.c"
		GtkMenu* menu = NULL;
		GtkMenu* _tmp5_ = NULL;
		GtkMenu* _tmp6_ = NULL;
		GtkMenuItem* show_weeks_menuitem = NULL;
		GtkMenuItem* _tmp7_ = NULL;
		MayaSettingsSavedState* _tmp8_ = NULL;
		MayaSettingsSavedState* _tmp9_ = NULL;
		gboolean _tmp10_ = FALSE;
		gboolean _tmp11_ = FALSE;
		gboolean _tmp12_ = FALSE;
		GtkMenuItem* _tmp17_ = NULL;
		GtkMenu* _tmp18_ = NULL;
		GtkMenuItem* _tmp19_ = NULL;
		GtkMenu* _tmp20_ = NULL;
		GtkMenu* _tmp21_ = NULL;
		GdkEventButton* _tmp22_ = NULL;
		guint _tmp23_ = 0U;
		GdkEventButton* _tmp24_ = NULL;
		guint32 _tmp25_ = 0U;
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp5_ = (GtkMenu*) gtk_menu_new ();
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		g_object_ref_sink (_tmp5_);
#line 65 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		menu = _tmp5_;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp6_ = menu;
#line 66 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		gtk_menu_attach_to_widget (_tmp6_, (GtkWidget*) self, NULL);
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp7_ = (GtkMenuItem*) gtk_menu_item_new ();
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		g_object_ref_sink (_tmp7_);
#line 67 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		show_weeks_menuitem = _tmp7_;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp8_ = maya_settings_saved_state_get_default ();
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp9_ = _tmp8_;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp10_ = maya_settings_saved_state_get_show_weeks (_tmp9_);
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp11_ = _tmp10_;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp12_ = _tmp11_ == TRUE;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_g_object_unref0 (_tmp9_);
#line 68 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		if (_tmp12_) {
#line 222 "Header.c"
			GtkMenuItem* _tmp13_ = NULL;
			const gchar* _tmp14_ = NULL;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			_tmp13_ = show_weeks_menuitem;
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			_tmp14_ = _ ("Hide Week Numbers");
#line 69 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			gtk_menu_item_set_label (_tmp13_, _tmp14_);
#line 231 "Header.c"
		} else {
			GtkMenuItem* _tmp15_ = NULL;
			const gchar* _tmp16_ = NULL;
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			_tmp15_ = show_weeks_menuitem;
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			_tmp16_ = _ ("Show Week Numbers");
#line 71 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			gtk_menu_item_set_label (_tmp15_, _tmp16_);
#line 241 "Header.c"
		}
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp17_ = show_weeks_menuitem;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		g_signal_connect_object (_tmp17_, "activate", (GCallback) ____lambda50__gtk_menu_item_activate, self, 0);
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp18_ = menu;
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp19_ = show_weeks_menuitem;
#line 77 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		gtk_container_add ((GtkContainer*) _tmp18_, (GtkWidget*) _tmp19_);
#line 78 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp20_ = menu;
#line 78 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		gtk_widget_show_all ((GtkWidget*) _tmp20_);
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp21_ = menu;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp22_ = event;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp23_ = _tmp22_->button;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp24_ = event;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp25_ = _tmp24_->time;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		gtk_menu_popup (_tmp21_, NULL, NULL, NULL, NULL, _tmp23_, _tmp25_);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_g_object_unref0 (show_weeks_menuitem);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_g_object_unref0 (menu);
#line 273 "Header.c"
	}
#line 82 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	result = FALSE;
#line 82 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	return result;
#line 279 "Header.c"
}


static gboolean ___lambda49__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda49_ ((MayaViewHeader*) self, event);
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	return result;
#line 288 "Header.c"
}


MayaViewHeader* maya_view_header_construct (GType object_type) {
	MayaViewHeader * self = NULL;
	GdkEventMask _tmp0_ = 0;
	GdkEventMask _tmp1_ = 0;
	GtkGrid* _tmp2_ = NULL;
	GtkGrid* _tmp3_ = NULL;
	GtkGrid* _tmp4_ = NULL;
	GtkGrid* _tmp5_ = NULL;
	GtkGrid* _tmp6_ = NULL;
	GtkGrid* _tmp7_ = NULL;
	GtkGrid* _tmp8_ = NULL;
	GtkCssProvider* style_provider = NULL;
	GtkCssProvider* _tmp9_ = NULL;
	GtkCssProvider* _tmp10_ = NULL;
	GtkStyleContext* _tmp11_ = NULL;
	GtkCssProvider* _tmp12_ = NULL;
	GtkStyleContext* _tmp13_ = NULL;
	GtkLabel** _tmp14_ = NULL;
	GtkGrid* _tmp40_ = NULL;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self = (MayaViewHeader*) g_object_new (object_type, NULL);
#line 33 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp0_ = gtk_widget_get_events ((GtkWidget*) self);
#line 33 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp1_ = _tmp0_;
#line 33 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_widget_set_events ((GtkWidget*) self, _tmp1_ | GDK_BUTTON_PRESS_MASK);
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp2_ = (GtkGrid*) gtk_grid_new ();
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_object_ref_sink (_tmp2_);
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_object_unref0 (self->priv->header_grid);
#line 35 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->priv->header_grid = _tmp2_;
#line 36 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp3_ = self->priv->header_grid;
#line 36 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_grid_insert_column (_tmp3_, 7);
#line 37 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp4_ = self->priv->header_grid;
#line 37 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_grid_insert_row (_tmp4_, 1);
#line 38 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp5_ = self->priv->header_grid;
#line 38 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_grid_set_column_homogeneous (_tmp5_, TRUE);
#line 39 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp6_ = self->priv->header_grid;
#line 39 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_grid_set_row_homogeneous (_tmp6_, TRUE);
#line 40 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp7_ = self->priv->header_grid;
#line 40 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_grid_set_column_spacing (_tmp7_, 0);
#line 41 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp8_ = self->priv->header_grid;
#line 41 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_grid_set_row_spacing (_tmp8_, 0);
#line 43 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp9_ = maya_util_css_get_css_provider ();
#line 43 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp10_ = _g_object_ref0 (_tmp9_);
#line 43 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	style_provider = _tmp10_;
#line 46 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_event_box_set_visible_window ((GtkEventBox*) self, TRUE);
#line 47 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp11_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 47 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp12_ = style_provider;
#line 47 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_style_context_add_provider (_tmp11_, (GtkStyleProvider*) _tmp12_, (guint) 600);
#line 48 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp13_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 48 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_style_context_add_class (_tmp13_, "header");
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp14_ = g_new0 (GtkLabel*, 7 + 1);
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->priv->labels = (_vala_array_free (self->priv->labels, self->priv->labels_length1, (GDestroyNotify) g_object_unref), NULL);
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->priv->labels = _tmp14_;
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->priv->labels_length1 = 7;
#line 50 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->priv->_labels_size_ = self->priv->labels_length1;
#line 379 "Header.c"
	{
		gint c = 0;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		c = 0;
#line 384 "Header.c"
		{
			gboolean _tmp15_ = FALSE;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			_tmp15_ = TRUE;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			while (TRUE) {
#line 391 "Header.c"
				gint _tmp17_ = 0;
				GtkLabel** _tmp18_ = NULL;
				gint _tmp18__length1 = 0;
				gint _tmp19_ = 0;
				GtkLabel* _tmp20_ = NULL;
				GtkLabel* _tmp21_ = NULL;
				GtkLabel** _tmp22_ = NULL;
				gint _tmp22__length1 = 0;
				gint _tmp23_ = 0;
				GtkLabel* _tmp24_ = NULL;
				GtkLabel** _tmp25_ = NULL;
				gint _tmp25__length1 = 0;
				gint _tmp26_ = 0;
				GtkLabel* _tmp27_ = NULL;
				GtkLabel** _tmp28_ = NULL;
				gint _tmp28__length1 = 0;
				gint _tmp29_ = 0;
				GtkLabel* _tmp30_ = NULL;
				GtkGrid* label_grid = NULL;
				GtkGrid* _tmp31_ = NULL;
				GtkGrid* _tmp32_ = NULL;
				GtkGrid* _tmp33_ = NULL;
				GtkLabel** _tmp34_ = NULL;
				gint _tmp34__length1 = 0;
				gint _tmp35_ = 0;
				GtkLabel* _tmp36_ = NULL;
				GtkGrid* _tmp37_ = NULL;
				GtkGrid* _tmp38_ = NULL;
				gint _tmp39_ = 0;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				if (!_tmp15_) {
#line 423 "Header.c"
					gint _tmp16_ = 0;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
					_tmp16_ = c;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
					c = _tmp16_ + 1;
#line 429 "Header.c"
				}
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp15_ = FALSE;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp17_ = c;
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				if (!(_tmp17_ < 7)) {
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
					break;
#line 439 "Header.c"
				}
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp18_ = self->priv->labels;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp18__length1 = self->priv->labels_length1;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp19_ = c;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp20_ = (GtkLabel*) gtk_label_new ("");
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				g_object_ref_sink (_tmp20_);
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_g_object_unref0 (_tmp18_[_tmp19_]);
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp18_[_tmp19_] = _tmp20_;
#line 52 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp21_ = _tmp18_[_tmp19_];
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp22_ = self->priv->labels;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp22__length1 = self->priv->labels_length1;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp23_ = c;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp24_ = _tmp22_[_tmp23_];
#line 53 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				gtk_widget_set_hexpand ((GtkWidget*) _tmp24_, TRUE);
#line 54 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp25_ = self->priv->labels;
#line 54 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp25__length1 = self->priv->labels_length1;
#line 54 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp26_ = c;
#line 54 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp27_ = _tmp25_[_tmp26_];
#line 54 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				gtk_widget_set_margin_top ((GtkWidget*) _tmp27_, 4);
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp28_ = self->priv->labels;
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp28__length1 = self->priv->labels_length1;
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp29_ = c;
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp30_ = _tmp28_[_tmp29_];
#line 55 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				gtk_widget_set_margin_bottom ((GtkWidget*) _tmp30_, 2);
#line 56 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp31_ = (GtkGrid*) gtk_grid_new ();
#line 56 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				g_object_ref_sink (_tmp31_);
#line 56 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				label_grid = _tmp31_;
#line 57 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp32_ = label_grid;
#line 57 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				g_signal_connect_object ((GtkWidget*) _tmp32_, "draw", (GCallback) _maya_view_header_on_draw_gtk_widget_draw, self, 0);
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp33_ = label_grid;
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp34_ = self->priv->labels;
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp34__length1 = self->priv->labels_length1;
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp35_ = c;
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp36_ = _tmp34_[_tmp35_];
#line 58 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				gtk_container_add ((GtkContainer*) _tmp33_, (GtkWidget*) _tmp36_);
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp37_ = self->priv->header_grid;
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp38_ = label_grid;
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp39_ = c;
#line 59 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				gtk_grid_attach (_tmp37_, (GtkWidget*) _tmp38_, _tmp39_, 0, 1, 1);
#line 51 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_g_object_unref0 (label_grid);
#line 519 "Header.c"
			}
		}
	}
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp40_ = self->priv->header_grid;
#line 62 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp40_);
#line 63 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_signal_connect_object ((GtkWidget*) self, "button-press-event", (GCallback) ___lambda49__gtk_widget_button_press_event, self, 0);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_object_unref0 (style_provider);
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	return self;
#line 533 "Header.c"
}


MayaViewHeader* maya_view_header_new (void) {
#line 32 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	return maya_view_header_construct (MAYA_VIEW_TYPE_HEADER);
#line 540 "Header.c"
}


void maya_view_header_update_columns (MayaViewHeader* self, gint week_starts_on) {
	GDateTime* date = NULL;
	GDateTime* _tmp0_ = NULL;
	GDateTime* _tmp1_ = NULL;
	GDateTime* _tmp2_ = NULL;
	GDateTime* _tmp3_ = NULL;
	GDateTime* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	GDateTime* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	GDateTime* _tmp8_ = NULL;
	GtkLabel** _tmp9_ = NULL;
	gint _tmp9__length1 = 0;
#line 86 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_return_if_fail (self != NULL);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp0_ = g_date_time_new_now_local ();
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp1_ = _tmp0_;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp2_ = maya_util_strip_time (_tmp1_);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp3_ = _tmp2_;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_date_time_unref0 (_tmp1_);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	date = _tmp3_;
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp4_ = date;
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp5_ = week_starts_on;
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp6_ = date;
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp7_ = g_date_time_get_day_of_week (_tmp6_);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp8_ = g_date_time_add_days (_tmp4_, _tmp5_ - _tmp7_);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_date_time_unref0 (date);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	date = _tmp8_;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp9_ = self->priv->labels;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp9__length1 = self->priv->labels_length1;
#line 589 "Header.c"
	{
		GtkLabel** label_collection = NULL;
		gint label_collection_length1 = 0;
		gint _label_collection_size_ = 0;
		gint label_it = 0;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		label_collection = _tmp9_;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		label_collection_length1 = _tmp9__length1;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		for (label_it = 0; label_it < _tmp9__length1; label_it = label_it + 1) {
#line 601 "Header.c"
			GtkLabel* _tmp10_ = NULL;
			GtkLabel* label = NULL;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			_tmp10_ = _g_object_ref0 (label_collection[label_it]);
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
			label = _tmp10_;
#line 608 "Header.c"
			{
				GtkLabel* _tmp11_ = NULL;
				GDateTime* _tmp12_ = NULL;
				gchar* _tmp13_ = NULL;
				gchar* _tmp14_ = NULL;
				GDateTime* _tmp15_ = NULL;
				GDateTime* _tmp16_ = NULL;
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp11_ = label;
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp12_ = date;
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp13_ = g_date_time_format (_tmp12_, "%a");
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp14_ = _tmp13_;
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				gtk_label_set_label (_tmp11_, _tmp14_);
#line 90 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_g_free0 (_tmp14_);
#line 91 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp15_ = date;
#line 91 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_tmp16_ = g_date_time_add_days (_tmp15_, 1);
#line 91 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_g_date_time_unref0 (date);
#line 91 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				date = _tmp16_;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
				_g_object_unref0 (label);
#line 638 "Header.c"
			}
		}
	}
#line 86 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_date_time_unref0 (date);
#line 644 "Header.c"
}


static gboolean maya_view_header_on_draw (MayaViewHeader* self, GtkWidget* widget, cairo_t* cr) {
	gboolean result = FALSE;
	GtkAllocation size = {0};
	GtkWidget* _tmp0_ = NULL;
	GtkAllocation _tmp1_ = {0};
	gboolean _tmp2_ = FALSE;
	GtkWidget* _tmp3_ = NULL;
	GtkGrid* _tmp4_ = NULL;
	GtkWidget* _tmp5_ = NULL;
	cairo_t* _tmp7_ = NULL;
	GtkAllocation _tmp8_ = {0};
	gint _tmp9_ = 0;
	cairo_t* _tmp10_ = NULL;
	cairo_t* _tmp11_ = NULL;
	cairo_t* _tmp12_ = NULL;
	cairo_t* _tmp13_ = NULL;
	cairo_t* _tmp14_ = NULL;
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_return_val_if_fail (widget != NULL, FALSE);
#line 95 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_return_val_if_fail (cr != NULL, FALSE);
#line 97 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp0_ = widget;
#line 97 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	gtk_widget_get_allocation (_tmp0_, &_tmp1_);
#line 97 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	size = _tmp1_;
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp3_ = widget;
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp4_ = self->priv->header_grid;
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp5_ = gtk_grid_get_child_at (_tmp4_, 0, 0);
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	if (_tmp3_ == _tmp5_) {
#line 685 "Header.c"
		gboolean _tmp6_ = FALSE;
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp6_ = self->draw_left_border;
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp2_ = _tmp6_ == FALSE;
#line 691 "Header.c"
	} else {
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		_tmp2_ = FALSE;
#line 695 "Header.c"
	}
#line 100 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	if (_tmp2_) {
#line 101 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		result = FALSE;
#line 101 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
		return result;
#line 703 "Header.c"
	}
#line 104 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp7_ = cr;
#line 104 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp8_ = size;
#line 104 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp9_ = _tmp8_.height;
#line 104 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	cairo_move_to (_tmp7_, 0.5, (gdouble) _tmp9_);
#line 105 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp10_ = cr;
#line 105 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	cairo_line_to (_tmp10_, 0.5, 0.5);
#line 107 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp11_ = cr;
#line 107 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	cairo_set_source_rgba (_tmp11_, 0.0, 0.0, 0.0, 0.25);
#line 108 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp12_ = cr;
#line 108 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	cairo_set_line_width (_tmp12_, 1.0);
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp13_ = cr;
#line 109 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	cairo_set_antialias (_tmp13_, CAIRO_ANTIALIAS_NONE);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_tmp14_ = cr;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	cairo_stroke (_tmp14_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	result = FALSE;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	return result;
#line 737 "Header.c"
}


static void maya_view_header_class_init (MayaViewHeaderClass * klass) {
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	maya_view_header_parent_class = g_type_class_peek_parent (klass);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	g_type_class_add_private (klass, sizeof (MayaViewHeaderPrivate));
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	G_OBJECT_CLASS (klass)->finalize = maya_view_header_finalize;
#line 748 "Header.c"
}


static void maya_view_header_instance_init (MayaViewHeader * self) {
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->priv = MAYA_VIEW_HEADER_GET_PRIVATE (self);
#line 31 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->draw_left_border = TRUE;
#line 757 "Header.c"
}


static void maya_view_header_finalize (GObject* obj) {
	MayaViewHeader * self;
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, MAYA_VIEW_TYPE_HEADER, MayaViewHeader);
#line 28 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	_g_object_unref0 (self->priv->header_grid);
#line 29 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	self->priv->labels = (_vala_array_free (self->priv->labels, self->priv->labels_length1, (GDestroyNotify) g_object_unref), NULL);
#line 27 "/home/cassidyjames/Projects/elementary/calendar/src/Grid/Header.vala"
	G_OBJECT_CLASS (maya_view_header_parent_class)->finalize (obj);
#line 771 "Header.c"
}


/**
 * Represents the header at the top of the calendar grid.
 */
GType maya_view_header_get_type (void) {
	static volatile gsize maya_view_header_type_id__volatile = 0;
	if (g_once_init_enter (&maya_view_header_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MayaViewHeaderClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) maya_view_header_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MayaViewHeader), 0, (GInstanceInitFunc) maya_view_header_instance_init, NULL };
		GType maya_view_header_type_id;
		maya_view_header_type_id = g_type_register_static (gtk_event_box_get_type (), "MayaViewHeader", &g_define_type_info, 0);
		g_once_init_leave (&maya_view_header_type_id__volatile, maya_view_header_type_id);
	}
	return maya_view_header_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



