/* Daemon.c generated by valac 0.34.9, the Vala compiler
 * generated from Daemon.vala, do not modify */

/**/
/*  Copyright (C) 2014 Corentin NoÃ«l*/
/**/
/*  This program is free software: you can redistribute it and/or modify*/
/*  it under the terms of the GNU General Public License as published by*/
/*  the Free Software Foundation, either version 3 of the License, or*/
/*  (at your option) any later version.*/
/**/
/*  This program is distributed in the hope that it will be useful,*/
/*  but WITHOUT ANY WARRANTY; without even the implied warranty of*/
/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the*/
/*  GNU General Public License for more details.*/
/**/
/*  You should have received a copy of the GNU General Public License*/
/*  along with this program.  If not, see <http://www.gnu.org/licenses/>.*/
/**/

#include <glib.h>
#include <glib-object.h>
#include <gee.h>
#include <libecal/libecal.h>
#include <signal.h>
#include <maya-calendar.h>
#include <granite.h>
#include <libedataserver/libedataserver.h>
#include <libical/ical.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>
#include <gio/gio.h>
#include <libnotify/notify.h>

#define _g_option_context_free0(var) ((var == NULL) ? NULL : (var = (g_option_context_free (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_main_loop_unref0(var) ((var == NULL) ? NULL : (var = (g_main_loop_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
typedef struct _Block1Data Block1Data;
typedef struct _Block2Data Block2Data;
typedef struct _Block3Data Block3Data;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _e_cal_component_alarm_free0(var) ((var == NULL) ? NULL : (var = (e_cal_component_alarm_free (var), NULL)))
#define __g_list_free__g_free0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_free0_ (var), NULL)))
typedef struct _Block4Data Block4Data;
typedef struct _MayaDaemonAddTimeoutData MayaDaemonAddTimeoutData;

struct _Block1Data {
	int _ref_count_;
	ESource* source;
	GeeCollection* events;
};

struct _Block2Data {
	int _ref_count_;
	ESource* source;
	GeeCollection* events;
};

struct _Block3Data {
	int _ref_count_;
	ESource* source;
	GeeCollection* events;
};

struct _Block4Data {
	int _ref_count_;
	gchar* uid;
	ESource* source;
	ECalComponent* event;
	gpointer _async_data_;
};

struct _MayaDaemonAddTimeoutData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GSimpleAsyncResult* _async_result;
	ESource* source;
	ECalComponent* event;
	guint interval;
	Block4Data* _data4_;
	ESource* _tmp0_;
	ECalComponent* _tmp1_;
	guint _tmp2_;
	guint32 _tmp3_;
	gchar* _tmp4_;
	GeeHashMap* _tmp5_;
	ECalComponent* _tmp6_;
	guint _tmp7_;
};


extern gboolean maya_daemon_has_debug;
extern gboolean maya_daemon_has_version;
extern GMainLoop* maya_daemon_mainloop;
GMainLoop* maya_daemon_mainloop = NULL;
gboolean maya_daemon_has_debug = FALSE;
gboolean maya_daemon_has_version = FALSE;
extern GeeHashMap* maya_daemon_event_uid;
GeeHashMap* maya_daemon_event_uid = NULL;

void maya_daemon_on_exit (gint signum);
gint maya_daemon_main (gchar** args, int args_length1);
static void _maya_daemon_on_exit_gsignal_handler_func (gint signum);
void maya_daemon_load_today_events (void);
static gboolean __lambda8_ (void);
static gboolean ___lambda8__gsource_func (gpointer self);
void maya_daemon_on_events_added (ESource* source, GeeCollection* events);
static void _maya_daemon_on_events_added_maya_model_calendar_model_events_added (MayaModelCalendarModel* _sender, ESource* source, GeeCollection* events, gpointer self);
void maya_daemon_on_events_updated (ESource* source, GeeCollection* events);
static void _maya_daemon_on_events_updated_maya_model_calendar_model_events_updated (MayaModelCalendarModel* _sender, ESource* source, GeeCollection* events, gpointer self);
void maya_daemon_on_events_removed (ESource* source, GeeCollection* events);
static void _maya_daemon_on_events_removed_maya_model_calendar_model_events_removed (MayaModelCalendarModel* _sender, ESource* source, GeeCollection* events, gpointer self);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static gboolean __lambda4_ (Block1Data* _data1_);
void maya_daemon_add_event (ESource* source, ECalComponent* event);
static gboolean ___lambda4__gsource_func (gpointer self);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static gboolean __lambda6_ (Block2Data* _data2_);
void maya_daemon_update_event (ESource* source, ECalComponent* event);
static gboolean ___lambda6__gsource_func (gpointer self);
static Block3Data* block3_data_ref (Block3Data* _data3_);
static void block3_data_unref (void * _userdata_);
static gboolean __lambda7_ (Block3Data* _data3_);
void maya_daemon_remove_event (ESource* source, ECalComponent* event);
static gboolean ___lambda7__gsource_func (gpointer self);
GTimeSpan maya_daemon_time_until_now (GDateTime* dt);
void maya_daemon_add_timeout (ESource* source, ECalComponent* event, guint interval, GAsyncReadyCallback _callback_, gpointer _user_data_);
void maya_daemon_add_timeout_finish (GAsyncResult* _res_);
static void _g_free0_ (gpointer var);
static void _g_list_free__g_free0_ (GList* self);
static void maya_daemon_add_timeout_data_free (gpointer _data);
static gboolean maya_daemon_add_timeout_co (MayaDaemonAddTimeoutData* _data_);
static Block4Data* block4_data_ref (Block4Data* _data4_);
static void block4_data_unref (void * _userdata_);
static gboolean __lambda5_ (Block4Data* _data4_);
void maya_daemon_queue_event_notification (ECalComponent* event, const gchar* uid, gboolean missed);
static gboolean ___lambda5__gsource_func (gpointer self);

const GOptionEntry MAYA_DAEMON_options[3] = {{"debug", 'd', 0, G_OPTION_ARG_NONE, &maya_daemon_has_debug, "Display debug statements on stdout", NULL}, {"version", (gchar) 0, 0, G_OPTION_ARG_NONE, &maya_daemon_has_version, "Display version number", NULL}, {NULL}};

void maya_daemon_on_exit (gint signum) {
	GMainLoop* _tmp0_ = NULL;
#line 32 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_debug ("Daemon.vala:32: Exiting");
#line 33 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = maya_daemon_mainloop;
#line 33 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_main_loop_quit (_tmp0_);
#line 157 "Daemon.c"
}


static void _maya_daemon_on_exit_gsignal_handler_func (gint signum) {
#line 38 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_on_exit (signum);
#line 164 "Daemon.c"
}


static gboolean __lambda8_ (void) {
	gboolean result = FALSE;
	GeeHashMap* _tmp0_ = NULL;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = maya_daemon_event_uid;
#line 68 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	gee_abstract_map_clear ((GeeAbstractMap*) _tmp0_);
#line 69 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_load_today_events ();
#line 70 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	result = TRUE;
#line 70 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 181 "Daemon.c"
}


static gboolean ___lambda8__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda8_ ();
#line 67 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 190 "Daemon.c"
}


gint maya_daemon_main (gchar** args, int args_length1) {
	gint result = 0;
	GOptionContext* context = NULL;
	GOptionContext* _tmp0_ = NULL;
	gboolean _tmp4_ = FALSE;
	GraniteServicesLogLevel _tmp5_ = 0;
	GraniteServicesLogLevel _tmp6_ = 0;
	gboolean _tmp7_ = FALSE;
	GMainLoop* _tmp10_ = NULL;
	GMainLoop* _tmp11_ = NULL;
	GError * _inner_error_ = NULL;
#line 38 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	signal (SIGINT, _maya_daemon_on_exit_gsignal_handler_func);
#line 39 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	signal (SIGTERM, _maya_daemon_on_exit_gsignal_handler_func);
#line 41 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = g_option_context_new ("");
#line 41 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	context = _tmp0_;
#line 42 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_option_context_add_main_entries (context, MAYA_DAEMON_options, NULL);
#line 215 "Daemon.c"
	{
#line 45 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_option_context_parse (context, &args_length1, &args, &_inner_error_);
#line 45 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 221 "Daemon.c"
			gint _tmp1_ = 0;
#line 45 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			if (_inner_error_->domain == G_OPTION_ERROR) {
#line 225 "Daemon.c"
				goto __catch0_g_option_error;
			}
#line 45 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_option_context_free0 (context);
#line 45 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 45 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			g_clear_error (&_inner_error_);
#line 45 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			return _tmp1_;
#line 236 "Daemon.c"
		}
	}
	goto __finally0;
	__catch0_g_option_error:
	{
		GError* e = NULL;
		const gchar* _tmp2_ = NULL;
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		e = _inner_error_;
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_inner_error_ = NULL;
#line 47 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp2_ = e->message;
#line 47 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_error ("Daemon.vala:47: %s", _tmp2_);
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_error_free0 (e);
#line 254 "Daemon.c"
	}
	__finally0:
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 259 "Daemon.c"
		gint _tmp3_ = 0;
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_option_context_free0 (context);
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_clear_error (&_inner_error_);
#line 44 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		return _tmp3_;
#line 269 "Daemon.c"
	}
#line 50 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp4_ = maya_daemon_has_version;
#line 50 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp4_) {
#line 51 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_message ("Daemon.vala:51: %s (Daemon)", BUILD_APP_NAME);
#line 52 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_message ("Daemon.vala:52: %s", BUILD_VERSION);
#line 53 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		result = 0;
#line 53 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_option_context_free0 (context);
#line 53 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		return result;
#line 285 "Daemon.c"
	}
#line 56 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	granite_services_logger_initialize (BUILD_APP_NAME);
#line 57 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp5_ = granite_services_logger_get_DisplayLevel ();
#line 57 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp6_ = _tmp5_;
#line 57 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	granite_services_logger_set_DisplayLevel (GRANITE_SERVICES_LOG_LEVEL_WARN);
#line 59 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp7_ = maya_daemon_has_debug;
#line 59 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp7_) {
#line 299 "Daemon.c"
		GraniteServicesLogLevel _tmp8_ = 0;
		GraniteServicesLogLevel _tmp9_ = 0;
#line 60 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp8_ = granite_services_logger_get_DisplayLevel ();
#line 60 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp9_ = _tmp8_;
#line 60 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		granite_services_logger_set_DisplayLevel (GRANITE_SERVICES_LOG_LEVEL_DEBUG);
#line 308 "Daemon.c"
	}
#line 64 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp10_ = g_main_loop_new (NULL, FALSE);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_main_loop_unref0 (maya_daemon_mainloop);
#line 64 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_mainloop = _tmp10_;
#line 65 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_load_today_events ();
#line 67 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_timeout_add_seconds_full (G_PRIORITY_DEFAULT, (guint) 86400, ___lambda8__gsource_func, NULL, NULL);
#line 74 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp11_ = maya_daemon_mainloop;
#line 74 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_main_loop_run (_tmp11_);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	result = 0;
#line 75 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_option_context_free0 (context);
#line 75 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 330 "Daemon.c"
}


int main (int argc, char ** argv) {
#if !GLIB_CHECK_VERSION (2,32,0)
	g_thread_init (NULL);
#endif
#if !GLIB_CHECK_VERSION (2,35,0)
	g_type_init ();
#endif
#line 36 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return maya_daemon_main (argv, argc);
#line 343 "Daemon.c"
}


static void _maya_daemon_on_events_added_maya_model_calendar_model_events_added (MayaModelCalendarModel* _sender, ESource* source, GeeCollection* events, gpointer self) {
#line 81 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_on_events_added (source, events);
#line 350 "Daemon.c"
}


static void _maya_daemon_on_events_updated_maya_model_calendar_model_events_updated (MayaModelCalendarModel* _sender, ESource* source, GeeCollection* events, gpointer self) {
#line 82 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_on_events_updated (source, events);
#line 357 "Daemon.c"
}


static void _maya_daemon_on_events_removed_maya_model_calendar_model_events_removed (MayaModelCalendarModel* _sender, ESource* source, GeeCollection* events, gpointer self) {
#line 83 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_on_events_removed (source, events);
#line 364 "Daemon.c"
}


void maya_daemon_load_today_events (void) {
	GeeHashMap* _tmp0_ = NULL;
	MayaModelCalendarModel* model = NULL;
	MayaModelCalendarModel* _tmp1_ = NULL;
	GDateTime* _tmp2_ = NULL;
	GDateTime* _tmp3_ = NULL;
	GDateTime* _tmp4_ = NULL;
#line 79 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = gee_hash_map_new (e_cal_component_get_type (), (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 79 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (maya_daemon_event_uid);
#line 79 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_event_uid = _tmp0_;
#line 80 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = maya_model_calendar_model_get_default ();
#line 80 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	model = _tmp1_;
#line 81 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_signal_connect (model, "events-added", (GCallback) _maya_daemon_on_events_added_maya_model_calendar_model_events_added, NULL);
#line 82 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_signal_connect (model, "events-updated", (GCallback) _maya_daemon_on_events_updated_maya_model_calendar_model_events_updated, NULL);
#line 83 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_signal_connect (model, "events-removed", (GCallback) _maya_daemon_on_events_removed_maya_model_calendar_model_events_removed, NULL);
#line 84 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = g_date_time_new_now_local ();
#line 84 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = maya_util_get_start_of_month (_tmp2_);
#line 84 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp4_ = _tmp3_;
#line 84 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_model_calendar_model_set_month_start (model, _tmp4_);
#line 84 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_date_time_unref0 (_tmp4_);
#line 78 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (model);
#line 403 "Daemon.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return self ? g_object_ref (self) : NULL;
#line 410 "Daemon.c"
}


static Block1Data* block1_data_ref (Block1Data* _data1_) {
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_atomic_int_inc (&_data1_->_ref_count_);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return _data1_;
#line 419 "Daemon.c"
}


static void block1_data_unref (void * _userdata_) {
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data1_->source);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data1_->events);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_slice_free (Block1Data, _data1_);
#line 434 "Daemon.c"
	}
}


static gboolean __lambda4_ (Block1Data* _data1_) {
	gboolean result = FALSE;
	{
		GeeIterator* _event_it = NULL;
		GeeCollection* _tmp0_ = NULL;
		GeeIterator* _tmp1_ = NULL;
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp0_ = _data1_->events;
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp1_ = gee_iterable_iterator ((GeeIterable*) _tmp0_);
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_event_it = _tmp1_;
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		while (TRUE) {
#line 453 "Daemon.c"
			GeeIterator* _tmp2_ = NULL;
			gboolean _tmp3_ = FALSE;
			ECalComponent* event = NULL;
			GeeIterator* _tmp4_ = NULL;
			gpointer _tmp5_ = NULL;
			ESource* _tmp6_ = NULL;
			ECalComponent* _tmp7_ = NULL;
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp2_ = _event_it;
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			if (!_tmp3_) {
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				break;
#line 469 "Daemon.c"
			}
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp4_ = _event_it;
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			event = (ECalComponent*) _tmp5_;
#line 95 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp6_ = _data1_->source;
#line 95 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp7_ = event;
#line 95 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			maya_daemon_add_event (_tmp6_, _tmp7_);
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_object_unref0 (event);
#line 485 "Daemon.c"
		}
#line 94 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_event_it);
#line 489 "Daemon.c"
	}
#line 97 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	result = FALSE;
#line 97 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 495 "Daemon.c"
}


static gboolean ___lambda4__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda4_ (self);
#line 93 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 504 "Daemon.c"
}


void maya_daemon_on_events_added (ESource* source, GeeCollection* events) {
	Block1Data* _data1_;
	ESource* _tmp0_ = NULL;
	ESource* _tmp1_ = NULL;
	GeeCollection* _tmp2_ = NULL;
	GeeCollection* _tmp3_ = NULL;
	ESourceAlarms* extension = NULL;
	ESource* _tmp4_ = NULL;
	ESourceExtension* _tmp5_ = NULL;
	ESourceAlarms* _tmp6_ = NULL;
	ESourceAlarms* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (source != NULL);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (events != NULL);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data1_ = g_slice_new0 (Block1Data);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data1_->_ref_count_ = 1;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = source;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data1_->source);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data1_->source = _tmp1_;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = events;
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data1_->events);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data1_->events = _tmp3_;
#line 88 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp4_ = _data1_->source;
#line 88 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp5_ = e_source_get_extension (_tmp4_, E_SOURCE_EXTENSION_ALARMS);
#line 88 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp6_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, e_source_alarms_get_type (), ESourceAlarms));
#line 88 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	extension = _tmp6_;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp7_ = extension;
#line 89 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp8_ = e_source_alarms_get_include_me (_tmp7_);
#line 89 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp8_ == FALSE) {
#line 90 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (extension);
#line 90 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		block1_data_unref (_data1_);
#line 90 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_data1_ = NULL;
#line 90 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		return;
#line 566 "Daemon.c"
	}
#line 93 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda4__gsource_func, block1_data_ref (_data1_), block1_data_unref);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (extension);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	block1_data_unref (_data1_);
#line 87 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data1_ = NULL;
#line 576 "Daemon.c"
}


static Block2Data* block2_data_ref (Block2Data* _data2_) {
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return _data2_;
#line 585 "Daemon.c"
}


static void block2_data_unref (void * _userdata_) {
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data2_->source);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data2_->events);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_slice_free (Block2Data, _data2_);
#line 600 "Daemon.c"
	}
}


static gboolean __lambda6_ (Block2Data* _data2_) {
	gboolean result = FALSE;
	{
		GeeIterator* _event_it = NULL;
		GeeCollection* _tmp0_ = NULL;
		GeeIterator* _tmp1_ = NULL;
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp0_ = _data2_->events;
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp1_ = gee_iterable_iterator ((GeeIterable*) _tmp0_);
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_event_it = _tmp1_;
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		while (TRUE) {
#line 619 "Daemon.c"
			GeeIterator* _tmp2_ = NULL;
			gboolean _tmp3_ = FALSE;
			ECalComponent* event = NULL;
			GeeIterator* _tmp4_ = NULL;
			gpointer _tmp5_ = NULL;
			ESource* _tmp6_ = NULL;
			ECalComponent* _tmp7_ = NULL;
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp2_ = _event_it;
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			if (!_tmp3_) {
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				break;
#line 635 "Daemon.c"
			}
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp4_ = _event_it;
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			event = (ECalComponent*) _tmp5_;
#line 104 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp6_ = _data2_->source;
#line 104 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp7_ = event;
#line 104 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			maya_daemon_update_event (_tmp6_, _tmp7_);
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_object_unref0 (event);
#line 651 "Daemon.c"
		}
#line 103 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_event_it);
#line 655 "Daemon.c"
	}
#line 106 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	result = FALSE;
#line 106 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 661 "Daemon.c"
}


static gboolean ___lambda6__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda6_ (self);
#line 102 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 670 "Daemon.c"
}


void maya_daemon_on_events_updated (ESource* source, GeeCollection* events) {
	Block2Data* _data2_;
	ESource* _tmp0_ = NULL;
	ESource* _tmp1_ = NULL;
	GeeCollection* _tmp2_ = NULL;
	GeeCollection* _tmp3_ = NULL;
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (source != NULL);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (events != NULL);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data2_->_ref_count_ = 1;
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = source;
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data2_->source);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data2_->source = _tmp1_;
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = events;
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data2_->events);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data2_->events = _tmp3_;
#line 102 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda6__gsource_func, block2_data_ref (_data2_), block2_data_unref);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	block2_data_unref (_data2_);
#line 101 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data2_ = NULL;
#line 710 "Daemon.c"
}


static Block3Data* block3_data_ref (Block3Data* _data3_) {
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_atomic_int_inc (&_data3_->_ref_count_);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return _data3_;
#line 719 "Daemon.c"
}


static void block3_data_unref (void * _userdata_) {
	Block3Data* _data3_;
	_data3_ = (Block3Data*) _userdata_;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (g_atomic_int_dec_and_test (&_data3_->_ref_count_)) {
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data3_->source);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data3_->events);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_slice_free (Block3Data, _data3_);
#line 734 "Daemon.c"
	}
}


static gboolean __lambda7_ (Block3Data* _data3_) {
	gboolean result = FALSE;
	{
		GeeIterator* _event_it = NULL;
		GeeCollection* _tmp0_ = NULL;
		GeeIterator* _tmp1_ = NULL;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp0_ = _data3_->events;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp1_ = gee_iterable_iterator ((GeeIterable*) _tmp0_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_event_it = _tmp1_;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		while (TRUE) {
#line 753 "Daemon.c"
			GeeIterator* _tmp2_ = NULL;
			gboolean _tmp3_ = FALSE;
			ECalComponent* event = NULL;
			GeeIterator* _tmp4_ = NULL;
			gpointer _tmp5_ = NULL;
			ESource* _tmp6_ = NULL;
			ECalComponent* _tmp7_ = NULL;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp2_ = _event_it;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp3_ = gee_iterator_next (_tmp2_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			if (!_tmp3_) {
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				break;
#line 769 "Daemon.c"
			}
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp4_ = _event_it;
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			event = (ECalComponent*) _tmp5_;
#line 113 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp6_ = _data3_->source;
#line 113 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp7_ = event;
#line 113 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			maya_daemon_remove_event (_tmp6_, _tmp7_);
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_object_unref0 (event);
#line 785 "Daemon.c"
		}
#line 112 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_event_it);
#line 789 "Daemon.c"
	}
#line 115 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	result = FALSE;
#line 115 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 795 "Daemon.c"
}


static gboolean ___lambda7__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda7_ (self);
#line 111 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 804 "Daemon.c"
}


void maya_daemon_on_events_removed (ESource* source, GeeCollection* events) {
	Block3Data* _data3_;
	ESource* _tmp0_ = NULL;
	ESource* _tmp1_ = NULL;
	GeeCollection* _tmp2_ = NULL;
	GeeCollection* _tmp3_ = NULL;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (source != NULL);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (events != NULL);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data3_ = g_slice_new0 (Block3Data);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data3_->_ref_count_ = 1;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = source;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data3_->source);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data3_->source = _tmp1_;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = events;
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data3_->events);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data3_->events = _tmp3_;
#line 111 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, ___lambda7__gsource_func, block3_data_ref (_data3_), block3_data_unref);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	block3_data_unref (_data3_);
#line 110 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data3_ = NULL;
#line 844 "Daemon.c"
}


static void _g_free0_ (gpointer var) {
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	var = (g_free (var), NULL);
#line 851 "Daemon.c"
}


static void _g_list_free__g_free0_ (GList* self) {
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_list_foreach (self, (GFunc) _g_free0_, NULL);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_list_free (self);
#line 860 "Daemon.c"
}


void maya_daemon_add_event (ESource* source, ECalComponent* event) {
	icalcomponent* comp = NULL;
	ECalComponent* _tmp0_ = NULL;
	icalcomponent* _tmp1_ = NULL;
	icalcomponent* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	ESource* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	icalcomponent* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	gchar* _tmp10_ = NULL;
	ECalComponent* _tmp11_ = NULL;
	GList* _tmp12_ = NULL;
#line 119 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (source != NULL);
#line 119 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (event != NULL);
#line 120 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = event;
#line 120 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = e_cal_component_get_icalcomponent (_tmp0_);
#line 120 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	comp = _tmp1_;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = comp;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = icalcomponent_get_summary (_tmp2_);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp4_ = source;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp5_ = e_source_dup_display_name (_tmp4_);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp6_ = _tmp5_;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp7_ = comp;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp8_ = icalcomponent_get_uid (_tmp7_);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp9_ = g_strdup_printf ("Event [%s, %s, %s]", _tmp3_, _tmp6_, _tmp8_);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp10_ = _tmp9_;
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_debug ("Daemon.vala:121: %s", _tmp10_);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_free0 (_tmp10_);
#line 121 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_free0 (_tmp6_);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp11_ = event;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp12_ = e_cal_component_get_alarm_uids (_tmp11_);
#line 917 "Daemon.c"
	{
		GList* alarm_uid_collection = NULL;
		GList* alarm_uid_it = NULL;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		alarm_uid_collection = _tmp12_;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		for (alarm_uid_it = alarm_uid_collection; alarm_uid_it != NULL; alarm_uid_it = alarm_uid_it->next) {
#line 925 "Daemon.c"
			gchar* _tmp13_ = NULL;
			gchar* alarm_uid = NULL;
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp13_ = g_strdup ((const gchar*) alarm_uid_it->data);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			alarm_uid = _tmp13_;
#line 932 "Daemon.c"
			{
				ECalComponentAlarm* e_alarm = NULL;
				ECalComponent* _tmp14_ = NULL;
				const gchar* _tmp15_ = NULL;
				ECalComponentAlarm* _tmp16_ = NULL;
				ECalComponentAlarmAction action = 0;
				ECalComponentAlarm* _tmp17_ = NULL;
				ECalComponentAlarmAction _tmp18_ = 0;
				ECalComponentAlarmAction _tmp19_ = 0;
#line 123 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				_tmp14_ = event;
#line 123 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				_tmp15_ = alarm_uid;
#line 123 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				_tmp16_ = e_cal_component_get_alarm (_tmp14_, _tmp15_);
#line 123 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				e_alarm = _tmp16_;
#line 125 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				_tmp17_ = e_alarm;
#line 125 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				e_cal_component_alarm_get_action (_tmp17_, &_tmp18_);
#line 125 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				action = _tmp18_;
#line 126 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				_tmp19_ = action;
#line 126 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				switch (_tmp19_) {
#line 126 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
					case E_CAL_COMPONENT_ALARM_DISPLAY:
#line 962 "Daemon.c"
					{
						ECalComponentAlarmTrigger trigger = {0};
						ECalComponentAlarm* _tmp20_ = NULL;
						ECalComponentAlarmTrigger _tmp21_ = {0};
						ECalComponentAlarmTrigger _tmp22_ = {0};
						ECalComponentAlarmTriggerType _tmp23_ = 0;
#line 129 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						_tmp20_ = e_alarm;
#line 129 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						e_cal_component_alarm_get_trigger (_tmp20_, &_tmp21_);
#line 129 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						trigger = _tmp21_;
#line 130 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						_tmp22_ = trigger;
#line 130 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						_tmp23_ = _tmp22_.type;
#line 130 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						if (_tmp23_ == E_CAL_COMPONENT_ALARM_TRIGGER_RELATIVE_START) {
#line 981 "Daemon.c"
							struct icaldurationtype duration = {0};
							ECalComponentAlarmTrigger _tmp24_ = {0};
							struct icaldurationtype _tmp25_ = {0};
							GDateTime* start_time = NULL;
							icalcomponent* _tmp26_ = NULL;
							struct icaltimetype _tmp27_ = {0};
							GDateTime* _tmp28_ = NULL;
							GDateTime* now = NULL;
							GDateTime* _tmp29_ = NULL;
							GDateTime* _tmp30_ = NULL;
							GDateTime* _tmp31_ = NULL;
							gint _tmp32_ = 0;
							GDateTime* _tmp33_ = NULL;
							struct icaldurationtype _tmp34_ = {0};
							guint _tmp35_ = 0U;
							GDateTime* _tmp36_ = NULL;
							GDateTime* _tmp37_ = NULL;
							struct icaldurationtype _tmp38_ = {0};
							guint _tmp39_ = 0U;
							GDateTime* _tmp40_ = NULL;
							GDateTime* _tmp41_ = NULL;
							struct icaldurationtype _tmp42_ = {0};
							guint _tmp43_ = 0U;
							GDateTime* _tmp44_ = NULL;
							GDateTime* _tmp45_ = NULL;
							struct icaldurationtype _tmp46_ = {0};
							guint _tmp47_ = 0U;
							GDateTime* _tmp48_ = NULL;
							GDateTime* _tmp49_ = NULL;
							struct icaldurationtype _tmp50_ = {0};
							guint _tmp51_ = 0U;
							GDateTime* _tmp52_ = NULL;
							gboolean _tmp53_ = FALSE;
							GDateTime* _tmp54_ = NULL;
							gint _tmp55_ = 0;
							GDateTime* _tmp56_ = NULL;
							gint _tmp57_ = 0;
#line 131 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp24_ = trigger;
#line 131 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp25_ = _tmp24_.u.rel_duration;
#line 131 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							duration = _tmp25_;
#line 132 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp26_ = comp;
#line 132 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp27_ = icalcomponent_get_dtstart (_tmp26_);
#line 132 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp28_ = maya_util_ical_to_date_time (_tmp27_);
#line 132 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							start_time = _tmp28_;
#line 133 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp29_ = g_date_time_new_now_local ();
#line 133 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							now = _tmp29_;
#line 134 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp30_ = now;
#line 134 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp31_ = start_time;
#line 134 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp32_ = g_date_time_compare (_tmp30_, _tmp31_);
#line 134 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							if (_tmp32_ > 0) {
#line 135 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_g_date_time_unref0 (now);
#line 135 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_g_date_time_unref0 (start_time);
#line 135 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								continue;
#line 1051 "Daemon.c"
							}
#line 137 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp33_ = start_time;
#line 137 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp34_ = duration;
#line 137 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp35_ = _tmp34_.weeks;
#line 137 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp36_ = g_date_time_add_weeks (_tmp33_, -((gint) _tmp35_));
#line 137 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_g_date_time_unref0 (start_time);
#line 137 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							start_time = _tmp36_;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp37_ = start_time;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp38_ = duration;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp39_ = _tmp38_.days;
#line 138 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp40_ = g_date_time_add_days (_tmp37_, -((gint) _tmp39_));
#line 138 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_g_date_time_unref0 (start_time);
#line 138 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							start_time = _tmp40_;
#line 139 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp41_ = start_time;
#line 139 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp42_ = duration;
#line 139 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp43_ = _tmp42_.hours;
#line 139 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp44_ = g_date_time_add_hours (_tmp41_, -((gint) _tmp43_));
#line 139 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_g_date_time_unref0 (start_time);
#line 139 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							start_time = _tmp44_;
#line 140 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp45_ = start_time;
#line 140 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp46_ = duration;
#line 140 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp47_ = _tmp46_.minutes;
#line 140 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp48_ = g_date_time_add_minutes (_tmp45_, -((gint) _tmp47_));
#line 140 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_g_date_time_unref0 (start_time);
#line 140 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							start_time = _tmp48_;
#line 141 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp49_ = start_time;
#line 141 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp50_ = duration;
#line 141 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp51_ = _tmp50_.seconds;
#line 141 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp52_ = g_date_time_add_seconds (_tmp49_, (gdouble) (-((gint) _tmp51_)));
#line 141 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_g_date_time_unref0 (start_time);
#line 141 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							start_time = _tmp52_;
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp54_ = start_time;
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp55_ = g_date_time_get_year (_tmp54_);
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp56_ = now;
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_tmp57_ = g_date_time_get_year (_tmp56_);
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							if (_tmp55_ == _tmp57_) {
#line 1123 "Daemon.c"
								GDateTime* _tmp58_ = NULL;
								gint _tmp59_ = 0;
								GDateTime* _tmp60_ = NULL;
								gint _tmp61_ = 0;
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp58_ = start_time;
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp59_ = g_date_time_get_day_of_year (_tmp58_);
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp60_ = now;
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp61_ = g_date_time_get_day_of_year (_tmp60_);
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp53_ = _tmp59_ == _tmp61_;
#line 1138 "Daemon.c"
							} else {
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp53_ = FALSE;
#line 1142 "Daemon.c"
							}
#line 142 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							if (_tmp53_) {
#line 1146 "Daemon.c"
								GTimeSpan time = 0LL;
								GDateTime* _tmp62_ = NULL;
								GTimeSpan _tmp63_ = 0LL;
								GTimeSpan _tmp64_ = 0LL;
#line 143 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp62_ = start_time;
#line 143 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp63_ = maya_daemon_time_until_now (_tmp62_);
#line 143 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								time = _tmp63_;
#line 144 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								_tmp64_ = time;
#line 144 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
								if (_tmp64_ >= ((GTimeSpan) 0)) {
#line 1161 "Daemon.c"
									ESource* _tmp65_ = NULL;
									ECalComponent* _tmp66_ = NULL;
									GTimeSpan _tmp67_ = 0LL;
#line 145 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
									_tmp65_ = source;
#line 145 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
									_tmp66_ = event;
#line 145 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
									_tmp67_ = time;
#line 145 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
									maya_daemon_add_timeout (_tmp65_, _tmp66_, (guint) _tmp67_, NULL, NULL);
#line 1173 "Daemon.c"
								}
							}
#line 130 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_g_date_time_unref0 (now);
#line 130 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
							_g_date_time_unref0 (start_time);
#line 1180 "Daemon.c"
						}
#line 149 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						continue;
#line 1184 "Daemon.c"
					}
#line 126 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
					case E_CAL_COMPONENT_ALARM_EMAIL:
#line 1188 "Daemon.c"
					{
						ECalComponentAlarmTrigger trigger = {0};
						ECalComponentAlarm* _tmp68_ = NULL;
						ECalComponentAlarmTrigger _tmp69_ = {0};
						ECalComponentAlarmTrigger _tmp70_ = {0};
						ECalComponentAlarmTriggerType _tmp71_ = 0;
#line 152 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						_tmp68_ = e_alarm;
#line 152 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						e_cal_component_alarm_get_trigger (_tmp68_, &_tmp69_);
#line 152 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						trigger = _tmp69_;
#line 153 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						_tmp70_ = trigger;
#line 153 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						_tmp71_ = _tmp70_.type;
#line 153 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						if (_tmp71_ == E_CAL_COMPONENT_ALARM_TRIGGER_RELATIVE_START) {
#line 1207 "Daemon.c"
						}
#line 156 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						continue;
#line 1211 "Daemon.c"
					}
					default:
					{
#line 158 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
						continue;
#line 1217 "Daemon.c"
					}
				}
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				_e_cal_component_alarm_free0 (e_alarm);
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
				_g_free0 (alarm_uid);
#line 1224 "Daemon.c"
			}
		}
#line 122 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		__g_list_free__g_free0_0 (alarm_uid_collection);
#line 1229 "Daemon.c"
	}
}


static void maya_daemon_add_timeout_data_free (gpointer _data) {
	MayaDaemonAddTimeoutData* _data_;
	_data_ = _data;
	g_slice_free (MayaDaemonAddTimeoutData, _data_);
}


void maya_daemon_add_timeout (ESource* source, ECalComponent* event, guint interval, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	MayaDaemonAddTimeoutData* _data_;
	ESource* _tmp0_ = NULL;
	ESource* _tmp1_ = NULL;
	ECalComponent* _tmp2_ = NULL;
	ECalComponent* _tmp3_ = NULL;
	guint _tmp4_ = 0U;
	_data_ = g_slice_new0 (MayaDaemonAddTimeoutData);
	_data_->_async_result = g_simple_async_result_new (NULL, _callback_, _user_data_, maya_daemon_add_timeout);
	g_simple_async_result_set_op_res_gpointer (_data_->_async_result, _data_, maya_daemon_add_timeout_data_free);
	_tmp0_ = source;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	_g_object_unref0 (_data_->source);
	_data_->source = _tmp1_;
	_tmp2_ = event;
	_tmp3_ = _g_object_ref0 (_tmp2_);
	_g_object_unref0 (_data_->event);
	_data_->event = _tmp3_;
	_tmp4_ = interval;
	_data_->interval = _tmp4_;
	maya_daemon_add_timeout_co (_data_);
}


void maya_daemon_add_timeout_finish (GAsyncResult* _res_) {
	MayaDaemonAddTimeoutData* _data_;
	_data_ = g_simple_async_result_get_op_res_gpointer (G_SIMPLE_ASYNC_RESULT (_res_));
}


static Block4Data* block4_data_ref (Block4Data* _data4_) {
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_atomic_int_inc (&_data4_->_ref_count_);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return _data4_;
#line 1276 "Daemon.c"
}


static void block4_data_unref (void * _userdata_) {
	Block4Data* _data4_;
	_data4_ = (Block4Data*) _userdata_;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (g_atomic_int_dec_and_test (&_data4_->_ref_count_)) {
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (_data4_->uid);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data4_->source);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (_data4_->event);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_slice_free (Block4Data, _data4_);
#line 1293 "Daemon.c"
	}
}


static gchar* g_date_time_to_string (GDateTime* self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
#line 2845 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 2846 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp0_ = g_date_time_format (self, "%FT%H:%M:%S%z");
#line 2846 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	result = _tmp0_;
#line 2846 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	return result;
#line 1309 "Daemon.c"
}


static gboolean __lambda5_ (Block4Data* _data4_) {
	gboolean result = FALSE;
	ESourceAlarms* extension = NULL;
	ESource* _tmp0_ = NULL;
	ESourceExtension* _tmp1_ = NULL;
	ESourceAlarms* _tmp2_ = NULL;
	ESourceAlarms* _tmp3_ = NULL;
	ECalComponent* _tmp9_ = NULL;
#line 168 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = _data4_->source;
#line 168 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = e_source_get_extension (_tmp0_, E_SOURCE_EXTENSION_ALARMS);
#line 168 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, e_source_alarms_get_type (), ESourceAlarms));
#line 168 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	extension = _tmp2_;
#line 169 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = extension;
#line 169 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp3_ != NULL) {
#line 1333 "Daemon.c"
		ESourceAlarms* _tmp4_ = NULL;
		GDateTime* _tmp5_ = NULL;
		GDateTime* _tmp6_ = NULL;
		gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp4_ = extension;
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp5_ = g_date_time_new_now_local ();
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp6_ = _tmp5_;
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp7_ = g_date_time_to_string (_tmp6_);
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp8_ = _tmp7_;
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		e_source_alarms_set_last_notified (_tmp4_, _tmp8_);
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (_tmp8_);
#line 170 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_date_time_unref0 (_tmp6_);
#line 1355 "Daemon.c"
	}
#line 173 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp9_ = _data4_->event;
#line 173 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_queue_event_notification (_tmp9_, _data4_->uid, FALSE);
#line 174 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	result = FALSE;
#line 174 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (extension);
#line 174 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 1367 "Daemon.c"
}


static gboolean ___lambda5__gsource_func (gpointer self) {
	gboolean result;
	result = __lambda5_ (self);
#line 167 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 1376 "Daemon.c"
}


static gboolean maya_daemon_add_timeout_co (MayaDaemonAddTimeoutData* _data_) {
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	switch (_data_->_state_) {
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		case 0:
#line 1385 "Daemon.c"
		goto _state_0;
		default:
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_assert_not_reached ();
#line 1390 "Daemon.c"
	}
	_state_0:
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_data4_ = g_slice_new0 (Block4Data);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_data4_->_ref_count_ = 1;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp0_ = NULL;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp0_ = _data_->source;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data_->_data4_->source);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_data4_->source = _data_->_tmp0_;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp1_ = NULL;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp1_ = _data_->event;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_data_->_data4_->event);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_data4_->event = _data_->_tmp1_;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_data4_->_async_data_ = _data_;
#line 164 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp2_ = 0U;
#line 164 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp2_ = _data_->interval;
#line 164 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp3_ = 0U;
#line 164 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp3_ = g_random_int ();
#line 164 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp4_ = NULL;
#line 164 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp4_ = g_strdup_printf ("%u-%u", _data_->_tmp2_, (guint) _data_->_tmp3_);
#line 164 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_data4_->uid = _data_->_tmp4_;
#line 165 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp5_ = NULL;
#line 165 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp5_ = maya_daemon_event_uid;
#line 165 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp6_ = NULL;
#line 165 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp6_ = _data_->_data4_->event;
#line 165 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	gee_abstract_map_set ((GeeAbstractMap*) _data_->_tmp5_, _data_->_tmp6_, _data_->_data4_->uid);
#line 166 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_debug ("Daemon.vala:166: adding timeout uid:%s", _data_->_data4_->uid);
#line 167 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp7_ = 0U;
#line 167 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_tmp7_ = _data_->interval;
#line 167 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_timeout_add_seconds_full (G_PRIORITY_DEFAULT, _data_->_tmp7_, ___lambda5__gsource_func, block4_data_ref (_data_->_data4_), block4_data_unref);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	block4_data_unref (_data_->_data4_);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_data_->_data4_ = NULL;
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_data_->_state_ == 0) {
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_simple_async_result_complete_in_idle (_data_->_async_result);
#line 1455 "Daemon.c"
	} else {
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_simple_async_result_complete (_data_->_async_result);
#line 1459 "Daemon.c"
	}
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_object_unref (_data_->_async_result);
#line 163 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return FALSE;
#line 1465 "Daemon.c"
}


static gboolean string_contains (const gchar* self, const gchar* needle) {
	gboolean result = FALSE;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
#line 1384 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, FALSE);
#line 1384 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	g_return_val_if_fail (needle != NULL, FALSE);
#line 1385 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp0_ = needle;
#line 1385 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	_tmp1_ = strstr ((gchar*) self, (gchar*) _tmp0_);
#line 1385 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	result = _tmp1_ != NULL;
#line 1385 "/usr/share/vala-0.34/vapi/glib-2.0.vapi"
	return result;
#line 1485 "Daemon.c"
}


void maya_daemon_queue_event_notification (ECalComponent* event, const gchar* uid, gboolean missed) {
	GeeHashMap* _tmp0_ = NULL;
	GeeCollection* _tmp1_ = NULL;
	GeeCollection* _tmp2_ = NULL;
	GeeCollection* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	NotifyNotification* notification = NULL;
	gboolean _tmp7_ = FALSE;
	icalcomponent* comp = NULL;
	ECalComponent* _tmp9_ = NULL;
	icalcomponent* _tmp10_ = NULL;
	gchar* primary_text = NULL;
	icalcomponent* _tmp11_ = NULL;
	const gchar* _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	GDateTime* start_time = NULL;
	icalcomponent* _tmp14_ = NULL;
	struct icaltimetype _tmp15_ = {0};
	GDateTime* _tmp16_ = NULL;
	GDateTime* now = NULL;
	GDateTime* _tmp17_ = NULL;
	gchar* secondary_text = NULL;
	gchar* _tmp18_ = NULL;
	GSettings* h24_settings = NULL;
	GSettings* _tmp19_ = NULL;
	gchar* format = NULL;
	GSettings* _tmp20_ = NULL;
	gchar* _tmp21_ = NULL;
	gchar* text = NULL;
	const gchar* _tmp22_ = NULL;
	gboolean _tmp23_ = FALSE;
	gchar* _tmp24_ = NULL;
	GDateTime* _tmp25_ = NULL;
	gint _tmp26_ = 0;
	GDateTime* _tmp27_ = NULL;
	gint _tmp28_ = 0;
	NotifyNotification* _tmp50_ = NULL;
	gboolean _tmp59_ = FALSE;
	NotifyNotification* _tmp62_ = NULL;
	GError * _inner_error_ = NULL;
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (event != NULL);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (uid != NULL);
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = maya_daemon_event_uid;
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = gee_abstract_map_get_values ((GeeAbstractMap*) _tmp0_);
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = _tmp1_;
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = _tmp2_;
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp4_ = uid;
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp5_ = gee_collection_contains (_tmp3_, _tmp4_);
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp6_ = _tmp5_ == FALSE;
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (_tmp3_);
#line 179 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp6_) {
#line 180 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		return;
#line 1555 "Daemon.c"
	}
#line 182 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	notification = NULL;
#line 185 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp7_ = notify_is_initted ();
#line 185 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (!_tmp7_) {
#line 1563 "Daemon.c"
		gboolean _tmp8_ = FALSE;
#line 186 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp8_ = notify_init ("net.launchpad.maya");
#line 186 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		if (!_tmp8_) {
#line 187 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			g_warning ("Daemon.vala:187: Could not init libnotify");
#line 188 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_object_unref0 (notification);
#line 188 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			return;
#line 1575 "Daemon.c"
		}
	}
#line 192 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp9_ = event;
#line 192 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp10_ = e_cal_component_get_icalcomponent (_tmp9_);
#line 192 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	comp = _tmp10_;
#line 193 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp11_ = comp;
#line 193 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp12_ = icalcomponent_get_summary (_tmp11_);
#line 193 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp13_ = g_strdup_printf ("%s", _tmp12_);
#line 193 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	primary_text = _tmp13_;
#line 194 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp14_ = comp;
#line 194 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp15_ = icalcomponent_get_dtstart (_tmp14_);
#line 194 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp16_ = maya_util_ical_to_date_time (_tmp15_);
#line 194 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	start_time = _tmp16_;
#line 195 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp17_ = g_date_time_new_now_local ();
#line 195 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	now = _tmp17_;
#line 196 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp18_ = g_strdup ("");
#line 196 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	secondary_text = _tmp18_;
#line 197 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp19_ = g_settings_new ("org.gnome.desktop.interface");
#line 197 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	h24_settings = _tmp19_;
#line 198 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp20_ = h24_settings;
#line 198 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp21_ = g_settings_get_string (_tmp20_, "clock-format");
#line 198 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	format = _tmp21_;
#line 199 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp22_ = format;
#line 199 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp23_ = string_contains (_tmp22_, "12h");
#line 199 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp24_ = granite_date_time_get_default_time_format (_tmp23_, FALSE);
#line 199 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	text = _tmp24_;
#line 200 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp25_ = start_time;
#line 200 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp26_ = g_date_time_get_year (_tmp25_);
#line 200 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp27_ = now;
#line 200 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp28_ = g_date_time_get_year (_tmp27_);
#line 200 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp26_ == _tmp28_) {
#line 1636 "Daemon.c"
		GDateTime* _tmp29_ = NULL;
		gint _tmp30_ = 0;
		GDateTime* _tmp31_ = NULL;
		gint _tmp32_ = 0;
#line 201 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp29_ = start_time;
#line 201 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp30_ = g_date_time_get_day_of_year (_tmp29_);
#line 201 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp31_ = now;
#line 201 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp32_ = g_date_time_get_day_of_year (_tmp31_);
#line 201 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		if (_tmp30_ == _tmp32_) {
#line 1651 "Daemon.c"
			GDateTime* _tmp33_ = NULL;
			const gchar* _tmp34_ = NULL;
			gchar* _tmp35_ = NULL;
#line 202 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp33_ = start_time;
#line 202 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp34_ = text;
#line 202 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp35_ = g_date_time_format (_tmp33_, _tmp34_);
#line 202 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_free0 (secondary_text);
#line 202 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			secondary_text = _tmp35_;
#line 1665 "Daemon.c"
		} else {
			GDateTime* _tmp36_ = NULL;
			gchar* _tmp37_ = NULL;
			gchar* _tmp38_ = NULL;
			const gchar* _tmp39_ = NULL;
			gchar* _tmp40_ = NULL;
			gchar* _tmp41_ = NULL;
			gchar* _tmp42_ = NULL;
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp36_ = start_time;
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp37_ = granite_date_time_get_default_date_format (FALSE, TRUE, FALSE);
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp38_ = _tmp37_;
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp39_ = text;
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp40_ = g_strdup_printf ("%s, %s", _tmp38_, _tmp39_);
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp41_ = _tmp40_;
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_tmp42_ = g_date_time_format (_tmp36_, _tmp41_);
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_free0 (secondary_text);
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			secondary_text = _tmp42_;
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_free0 (_tmp41_);
#line 204 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
			_g_free0 (_tmp38_);
#line 1696 "Daemon.c"
		}
	} else {
		GDateTime* _tmp43_ = NULL;
		gchar* _tmp44_ = NULL;
		gchar* _tmp45_ = NULL;
		const gchar* _tmp46_ = NULL;
		gchar* _tmp47_ = NULL;
		gchar* _tmp48_ = NULL;
		gchar* _tmp49_ = NULL;
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp43_ = start_time;
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp44_ = granite_date_time_get_default_date_format (FALSE, TRUE, TRUE);
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp45_ = _tmp44_;
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp46_ = text;
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp47_ = g_strdup_printf ("%s, %s", _tmp45_, _tmp46_);
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp48_ = _tmp47_;
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp49_ = g_date_time_format (_tmp43_, _tmp48_);
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (secondary_text);
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		secondary_text = _tmp49_;
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (_tmp48_);
#line 207 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (_tmp45_);
#line 1728 "Daemon.c"
	}
#line 210 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp50_ = notification;
#line 210 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp50_ == NULL) {
#line 1734 "Daemon.c"
		const gchar* _tmp51_ = NULL;
		const gchar* _tmp52_ = NULL;
		NotifyNotification* _tmp53_ = NULL;
#line 211 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp51_ = primary_text;
#line 211 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp52_ = secondary_text;
#line 211 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp53_ = notify_notification_new (_tmp51_, _tmp52_, "");
#line 211 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (notification);
#line 211 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		notification = _tmp53_;
#line 1748 "Daemon.c"
	} else {
		NotifyNotification* _tmp54_ = NULL;
		NotifyNotification* _tmp55_ = NULL;
		NotifyNotification* _tmp56_ = NULL;
		const gchar* _tmp57_ = NULL;
		const gchar* _tmp58_ = NULL;
#line 213 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp54_ = notification;
#line 213 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		notify_notification_clear_hints (_tmp54_);
#line 214 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp55_ = notification;
#line 214 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		notify_notification_clear_actions (_tmp55_);
#line 215 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp56_ = notification;
#line 215 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp57_ = primary_text;
#line 215 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp58_ = secondary_text;
#line 215 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		notify_notification_update (_tmp56_, _tmp57_, _tmp58_, "");
#line 1771 "Daemon.c"
	}
#line 218 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp59_ = missed;
#line 218 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp59_ == FALSE) {
#line 1777 "Daemon.c"
		NotifyNotification* _tmp60_ = NULL;
#line 219 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp60_ = notification;
#line 219 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_object_set (_tmp60_, "icon-name", "appointment-soon", NULL);
#line 1783 "Daemon.c"
	} else {
		NotifyNotification* _tmp61_ = NULL;
#line 221 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp61_ = notification;
#line 221 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_object_set (_tmp61_, "icon-name", "appointment-missed", NULL);
#line 1790 "Daemon.c"
	}
#line 224 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp62_ = notification;
#line 224 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	notify_notification_set_urgency (_tmp62_, NOTIFY_URGENCY_NORMAL);
#line 1796 "Daemon.c"
	{
		NotifyNotification* _tmp63_ = NULL;
#line 227 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp63_ = notification;
#line 227 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		notify_notification_show (_tmp63_, &_inner_error_);
#line 227 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1805 "Daemon.c"
			goto __catch1_g_error;
		}
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* err = NULL;
		GError* _tmp64_ = NULL;
		const gchar* _tmp65_ = NULL;
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		err = _inner_error_;
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_inner_error_ = NULL;
#line 229 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp64_ = err;
#line 229 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp65_ = _tmp64_->message;
#line 229 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_warning ("Daemon.vala:229: Could not show notification: %s", _tmp65_);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_error_free0 (err);
#line 1827 "Daemon.c"
	}
	__finally1:
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (text);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (format);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (h24_settings);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (secondary_text);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_date_time_unref0 (now);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_date_time_unref0 (start_time);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_free0 (primary_text);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_g_object_unref0 (notification);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		g_clear_error (&_inner_error_);
#line 226 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		return;
#line 1854 "Daemon.c"
	}
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_free0 (text);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_free0 (format);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (h24_settings);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_free0 (secondary_text);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_date_time_unref0 (now);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_date_time_unref0 (start_time);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_free0 (primary_text);
#line 178 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_object_unref0 (notification);
#line 1872 "Daemon.c"
}


void maya_daemon_update_event (ESource* source, ECalComponent* event) {
	ESource* _tmp0_ = NULL;
	ECalComponent* _tmp1_ = NULL;
	ECalComponent* _tmp2_ = NULL;
	ECalComponent* _tmp3_ = NULL;
	ESource* _tmp4_ = NULL;
	ECalComponent* _tmp5_ = NULL;
#line 234 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (source != NULL);
#line 234 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (event != NULL);
#line 235 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = source;
#line 235 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = event;
#line 235 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_remove_event (_tmp0_, _tmp1_);
#line 236 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = event;
#line 236 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	e_cal_component_rescan (_tmp2_);
#line 237 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp3_ = event;
#line 237 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	e_cal_component_commit_sequence (_tmp3_);
#line 238 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp4_ = source;
#line 238 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp5_ = event;
#line 238 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	maya_daemon_add_event (_tmp4_, _tmp5_);
#line 1907 "Daemon.c"
}


void maya_daemon_remove_event (ESource* source, ECalComponent* event) {
	GeeHashMap* _tmp0_ = NULL;
	ECalComponent* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
#line 241 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (source != NULL);
#line 241 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_if_fail (event != NULL);
#line 242 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = maya_daemon_event_uid;
#line 242 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = event;
#line 242 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = gee_abstract_map_has_key ((GeeAbstractMap*) _tmp0_, _tmp1_);
#line 242 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	if (_tmp2_) {
#line 1927 "Daemon.c"
		GeeHashMap* _tmp3_ = NULL;
		ECalComponent* _tmp4_ = NULL;
#line 243 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp3_ = maya_daemon_event_uid;
#line 243 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		_tmp4_ = event;
#line 243 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
		gee_abstract_map_unset ((GeeAbstractMap*) _tmp3_, _tmp4_, NULL);
#line 1936 "Daemon.c"
	}
}


GTimeSpan maya_daemon_time_until_now (GDateTime* dt) {
	GTimeSpan result = 0LL;
	GDateTime* now = NULL;
	GDateTime* _tmp0_ = NULL;
	GDateTime* _tmp1_ = NULL;
	GTimeSpan _tmp2_ = 0LL;
#line 247 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	g_return_val_if_fail (dt != NULL, 0LL);
#line 248 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp0_ = g_date_time_new_now_local ();
#line 248 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	now = _tmp0_;
#line 249 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp1_ = dt;
#line 249 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_tmp2_ = g_date_time_difference (_tmp1_, now);
#line 249 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	result = _tmp2_ / G_TIME_SPAN_SECOND;
#line 249 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	_g_date_time_unref0 (now);
#line 249 "/home/cassidyjames/Projects/elementary/calendar/daemon/Daemon.vala"
	return result;
#line 1963 "Daemon.c"
}



